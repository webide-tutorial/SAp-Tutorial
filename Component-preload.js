/**
* This file was auto-generated by SAP Web IDE build and includes all
* the source files required by SAPUI5 runtime for performance optimization.
* PLEASE DO NOT EDIT THIS FILE!! Changes will be overwritten the next time the build is run.
*/
jQuery.sap.registerPreloadedModules({
	"version": "2.0",
	"name": "ZHN_API_SCORES/Component-preload",
	"modules": {
		"ZHN_API_SCORES/Component.js": "// define a root UI component that exposes the main view\r\njQuery.sap.declare(\"ZHN_API_SCORES.Component\");\r\njQuery.sap.require(\"sap.ui.core.UIComponent\");\r\njQuery.sap.require(\"sap.ui.core.routing.History\");\r\njQuery.sap.require(\"sap.m.routing.RouteMatchedHandler\");\r\n\r\njQuery.sap.require(\"ZHN_API_SCORES.braden.Braden\");\r\njQuery.sap.require(\"ZHN_API_SCORES.fallRiskAssessment.FallRiskAssessment\");\r\njQuery.sap.require(\"ZHN_API_SCORES.glasgowComa.GlasgowComa\");\r\njQuery.sap.require(\"ZHN_API_SCORES.vip.VIP\");\r\njQuery.sap.require(\"ZHN_API_SCORES.painScale.PainScale\");\r\n\r\nsap.ui.core.UIComponent.extend(\"ZHN_API_SCORES.Component\", {\r\n    metadata : {\r\n        \"name\" : \"API\",\r\n        \"version\" : \"1.1.0-SNAPSHOT\",\r\n        \"library\" : \"ZHN_API_SCORES\",\r\n        \"includes\" : [ \"css/fullScreenStyles.css\" ],\r\n        \"dependencies\" : {\r\n            \"libs\" : [ \"sap.m\", \"sap.ui.layout\" ],\r\n            \"components\" : []\r\n        },\r\n\t\t\"config\" : {\r\n\t\t\tresourceBundle : \"i18n/i18n.properties\",\r\n\t\t\tserviceConfig : {\r\n\t\t\t\tname: \"PatientListCollection\",\r\n\t\t\t\t//serviceUrl: \"/sap/opu/odata/MEMR/MOBILE_EMR\"\r\n\t\t\t\tserviceUrl: \"/sap/opu/odata/MEMR/MOBILE_EMR\"\r\n\t\t\t}\r\n\t\t},\r\n        routing : {\r\n           \r\n        }\r\n    },\r\n\r\n    /**\r\n     * Initialize the application\r\n     * \r\n     * @returns {sap.ui.core.Control} the content\r\n     */\r\n    createContent : function() {\r\n       \r\n    },\r\n\r\n    init : function() {\r\n        // call super init (will call function \"create content\")\r\n        sap.ui.core.UIComponent.prototype.init.apply(this, arguments);\r\n\r\n        // always use absolute paths relative to our own component\r\n        // (relative paths will fail if running in the Fiori Launchpad)\r\n        var sRootPath = jQuery.sap.getModulePath(\"ZHN_API_SCORES\");\r\n\r\n        // The service URL for the oData model \r\n        var oServiceConfig = this.getMetadata().getConfig().serviceConfig;\r\n        var sServiceUrl = oServiceConfig.serviceUrl;\r\n\r\n        // the metadata is read to get the location of the i18n language files later\r\n        var mConfig = this.getMetadata().getConfig();\r\n        this._routeMatchedHandler = new sap.m.routing.RouteMatchedHandler(this.getRouter(), this._bRouterCloseDialogs);\r\n\r\n        // create oData model\r\n       // this._initODataModel(sServiceUrl);\r\n\r\n        // set i18n model\r\n        var i18nModel = new sap.ui.model.resource.ResourceModel({\r\n            bundleUrl : [ sRootPath, mConfig.resourceBundle ].join(\"/\")\r\n        });\r\n        this.setModel(i18nModel, \"i18n\");\r\n\r\n        var deviceModel = new sap.ui.model.json.JSONModel({\r\n\t\t\tisPhone : jQuery.device.is.phone,\r\n\t\t\tisTablet : jQuery.device.is.tablet,\r\n\t\t\tisDesktop : jQuery.device.is.desktop\r\n\t\t});\r\n\t\tdeviceModel.setDefaultBindingMode(\"OneWay\");\r\n\t\tthis.setModel(deviceModel, \"device\");\r\n\t\t\r\n        // initialize router and navigate to the first page\r\n        this.getRouter().initialize();\r\n\r\n    },\r\n\r\n    exit : function() {\r\n        this._routeMatchedHandler.destroy();\r\n    },\r\n\r\n    // This method lets the app can decide if a navigation closes all open dialogs\r\n    setRouterSetCloseDialogs : function(bCloseDialogs) {\r\n        this._bRouterCloseDialogs = bCloseDialogs;\r\n        if (this._routeMatchedHandler) {\r\n            this._routeMatchedHandler.setCloseDialogs(bCloseDialogs);\r\n        }\r\n    },\r\n\r\n    // creation and setup of the oData model\r\n    _initODataModel : function(sServiceUrl) {\r\n       /* jQuery.sap.require(\"ZHN_API_SCORES.util.messages\");\r\n        var oConfig = {\r\n            metadataUrlParams : {},\r\n            json : true,\r\n            // loadMetadataAsync : true,\r\n            defaultBindingMode :\"TwoWay\",\r\n            defaultCountMode: \"Inline\",\r\n            useBatch : true\r\n        };\r\n        var oModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, oConfig);\r\n        oModel.attachRequestFailed(null, ZHN_API_SCORES.util.messages.showErrorMessage);\r\n        this.setModel(oModel);*/\r\n    }\r\n});",
		"ZHN_API_SCORES/fallRiskAssessment/FallRiskAssessment.js": "jQuery.sap.declare(\"ZHN_API_SCORES.fallRiskAssessment.FallRiskAssessment\");\r\njQuery.sap.require(\"sap.ui.core.Component\");\r\njQuery.sap.require(\"ZHN_API_SCORES.utils.Formatter\");\r\nsap.ui.core.Component.extend(\"ZHN_API_SCORES.fallRiskAssessment.FallRiskAssessment\", {\r\n\r\n    initFallRiskAssessment: function(that, patient) {\r\n        _thatFRA = that;\r\n        _patient = patient;\r\n        /*{  \t\t Institution: \"RFH1\",\r\n                 PatientId: \"10005132\",\r\n                 CaseNo: \"1000010460\",\r\n                 PatientName: \"Test Deepakradio\",\r\n                 Sex:\"Female\",\r\n                 Birthdate:\"/Date(-97977600000)/\",\r\n                 PatientDoctor:\"Preeti Chhabria\",\r\n                 Age:\"49 years\",\r\n                 CaseType:\"1\",\r\n                 DeptOu:\"1ANAES\",\r\n                 Status:\"\",\r\n                 DocumentNo :\"\",\r\n                 DocumentType :\"\",\r\n                 DocumentVersion :\"\",\r\n                 DocumantPart : \"\",\r\n                 Mode : \"E\"\r\n\t    }*/\r\n\r\n        var _proxy = \"\";\r\n        //var _proxy = \"proxy/http/devnwngd.ril.com:8000\";\r\n        // Initialize service model\r\n        var serviceUrl = _proxy + \"/sap/opu/odata/sap/Z_FIORI_SCORES_PMD_SRV\";\r\n        this.oModel = new sap.ui.model.odata.ODataModel(serviceUrl, true);\r\n\r\n        this.openDialog(\"FallRiskAssessmentCreate\");\r\n        this.initFallRiskAssessmentCreateDiag();\r\n    },\r\n\r\n    // open dialog\r\n    openDialog: function(sName) {\r\n        if (!this[sName]) {\r\n            this[sName] = sap.ui.xmlfragment(\"ZHN_API_SCORES/fallRiskAssessment/\" + sName, this);\r\n            _thatFRA.getView().addDependent(this[sName]);\r\n        }\r\n        this[sName].open();\r\n    },\r\n\r\n    // close dialog\r\n    onDialogclose: function(oEvent) {\r\n        var sName = \"\";\r\n        if (typeof oEvent == \"object\")\r\n            sName = oEvent.getSource().getCustomData()[0].getValue();\r\n        else\r\n            sName = oEvent;\r\n        this[sName].destroy();\r\n        this[sName] = undefined;\r\n    \tvar eb = sap.ui.getCore().getEventBus();\r\n    \teb.publish(\"ZHN_API_SCORES\", \"ScoresSaveClose\", {});\r\n    },\r\n\r\n    //create FRA dialog\r\n    initFallRiskAssessmentCreateDiag: function() {\r\n        var thatFRA = this;\r\n        thatFRA.initFRATotalScore();\r\n\r\n        var oAgeModel = new sap.ui.model.json.JSONModel({\r\n            \"AgeCollection\": [{\r\n                \"Name\": \"Less than 60 years\",\r\n                \"Value\": \"1\"\r\n            }, {\r\n                \"Name\": \"60-69 years\",\r\n                \"Value\": \"2\"\r\n            }, {\r\n                \"Name\": \"70-79 years\",\r\n                \"Value\": \"3\"\r\n            }, {\r\n                \"Name\": \"Greater than equal to 80 years\",\r\n                \"Value\": \"4\"\r\n            }]\r\n        });\r\n\r\n        var oFHModel = new sap.ui.model.json.JSONModel({\r\n            \"FHCollection\": [{\r\n                \"Name\": \"None\",\r\n                \"Value\": \"0\"\r\n            }, {\r\n                \"Name\": \"Fall in the last 6 months\",\r\n                \"Value\": \"5\"\r\n            }, {\r\n                \"Name\": \"More than 1 fall in 6 months\",\r\n                \"Value\": \"6\"\r\n            }, {\r\n                \"Name\": \"Fall in hospital after admission\",\r\n                \"Value\": \"7\"\r\n            }]\r\n        });\r\n\r\n        var oEBUModel = new sap.ui.model.json.JSONModel({\r\n            \"EBUCollection\": [{\r\n                \"Name\": \"Normal limit\",\r\n                \"Value\": \"0\"\r\n            }, {\r\n                \"Name\": \"Incontinence\",\r\n                \"Value\": \"2\"\r\n            }, {\r\n                \"Name\": \"Urgency of frequency\",\r\n                \"Value\": \"2\"\r\n            }, {\r\n                \"Name\": \"Urgency/Frequency and incontinence\",\r\n                \"Value\": \"4\"\r\n            }]\r\n        });\r\n\r\n        var oMedModel = new sap.ui.model.json.JSONModel({\r\n            \"MEDCollection\": [{\r\n                \"Name\": \"Not applicable\",\r\n                \"Value\": \"0\"\r\n            }, {\r\n                \"Name\": \"On 1 high fall risk drug\",\r\n                \"Value\": \"3\"\r\n            }, {\r\n                \"Name\": \"On 2 or more high fall risk drug\",\r\n                \"Value\": \"5\"\r\n            }, {\r\n                \"Name\": \"Sedated procedure within past 24 hours\",\r\n                \"Value\": \"7\"\r\n            }]\r\n        });\r\n\r\n        var oPCEModel = new sap.ui.model.json.JSONModel({\r\n            \"PCECollection\": [{\r\n                \"Name\": \"Not applicable\",\r\n                \"Value\": \"0\"\r\n            }, {\r\n                \"Name\": \"One present\",\r\n                \"Value\": \"1\"\r\n            }, {\r\n                \"Name\": \"Two present\",\r\n                \"Value\": \"2\"\r\n            }, {\r\n                \"Name\": \"3 or more present\",\r\n                \"Value\": \"3\"\r\n            }]\r\n        });\r\n\r\n        var oMobModel = new sap.ui.model.json.JSONModel({\r\n            \"MOBCollection\": [{\r\n                \"Name\": \"Normal limit\",\r\n                \"Value\": \"0\"\r\n            }, {\r\n                \"Name\": \"Requires assistence or supervision for mobility, transfer or ambulation\",\r\n                \"Value\": \"2\"\r\n            }, {\r\n                \"Name\": \"Unsteady gait\",\r\n                \"Value\": \"2\"\r\n            }, {\r\n                \"Name\": \"Visual or auditory impairment affecting mobility\",\r\n                \"Value\": \"2\"\r\n            }]\r\n        });\r\n\r\n        var oConModel = new sap.ui.model.json.JSONModel({\r\n            \"CONCollection\": [{\r\n                \"Name\": \"Normal limit\",\r\n                \"Value\": \"0\"\r\n            }, {\r\n                \"Name\": \"Altered awarness of immediate physical movement\",\r\n                \"Value\": \"1\"\r\n            }, {\r\n                \"Name\": \"impulsive\",\r\n                \"Value\": \"2\"\r\n            }, {\r\n                \"Name\": \"Lack of understanding of one's physical and cognitive imitation\",\r\n                \"Value\": \"4\"\r\n            }]\r\n        });\r\n\r\n        sap.ui.getCore().byId(\"API_FRA_AGE_LIST\").setModel(oAgeModel, \"Age\");\r\n        sap.ui.getCore().byId(\"API_FRA_FH_LIST\").setModel(oFHModel, \"FH\");\r\n        sap.ui.getCore().byId(\"API_FRA_EBU_LIST\").setModel(oEBUModel, \"EBU\");\r\n        sap.ui.getCore().byId(\"API_FRA_MED_LIST\").setModel(oMedModel, \"MED\");\r\n        sap.ui.getCore().byId(\"API_FRA_PCE_LIST\").setModel(oPCEModel, \"PCE\");\r\n        sap.ui.getCore().byId(\"API_FRA_MOB_LIST\").setModel(oMobModel, \"MOB\");\r\n        sap.ui.getCore().byId(\"API_FRA_CON_LIST\").setModel(oConModel, \"CON\");\r\n\r\n        if (_patient.DocumentNo) {\r\n            var sPath = \"ScfRskDetailHdrSet?$filter= DocumentNumber eq '\" + _patient.DocumentNo + \"' and DocumentVersion eq '\" + _patient.DocumentVersion + \"' and DocumentType eq '\" + _patient.DocumentType + \"' and DocumentPart eq '\" + _patient.DocumantPart + \"'&$expand=SCFRSKDETAILHDRTOITEM\";\r\n            thatFRA.oModel.read(sPath, null, null, false, function(oData, oResponse) {\r\n                    thatFRA.initFRATotalScore();\r\n                    var selectedData = oData.results[0];\r\n                    thatFRA.setButtonsEnability();\r\n                    thatFRA.setSelectedDataToLists(selectedData);\r\n\r\n                },\r\n                function(oData, oResponse) {\r\n                    /* failed */\r\n                    var msg = oData.response.body;\r\n                    msg = JSON.parse(msg);\r\n                    msg = msg.error.message.value;\r\n                    sap.m.MessageBox.show(msg, {\r\n                        title: \"Alert\",\r\n                        icon: sap.m.MessageBox.Icon.ERROR,\r\n                        actions: [sap.m.MessageBox.Action.OK],\r\n                    });\r\n                });\r\n        } else {\r\n            if (_patient.Mode == \"E\") {\r\n                sap.ui.getCore().byId(\"API_FRA_RELEASE_BUTTON\").setVisible(true);\r\n                sap.ui.getCore().byId(\"API_FRA_SAVE_BUTTON\").setVisible(true);\r\n            }\r\n        }\r\n    },\r\n\r\n    //In edit and display mode, set selected data to lists\r\n    setSelectedDataToLists: function(selectedData) {\r\n        var thatFRA = this;\r\n        var score = sap.ui.getCore().byId(\"API_FULL_RISK_ASSESSMENT_DIALOG\").getModel(\"ScoreModel\").getData().ScoreModel[0];\r\n        score[\"Age\"].Value = selectedData.AgeValue;\r\n        score[\"FallHistory\"].Value = selectedData.FallHistoryValue;\r\n        score[\"EBU\"].Value = selectedData.EbuValue;\r\n        score[\"Medication\"].Value = selectedData.MedValue;\r\n        score[\"PCE\"].Value = selectedData.PatCareEqValue;\r\n        score.TotalScore = selectedData.TotalScore;\r\n        var ageList = sap.ui.getCore().byId(\"API_FRA_AGE_LIST\");\r\n        for (var i = 0; i < ageList.getModel(\"Age\").getData().AgeCollection.length; i++) {\r\n            if (selectedData.AgeValue == ageList.getModel(\"Age\").getData().AgeCollection[i].Value) {\r\n                ageList.setSelectedItem(ageList.getItems()[i]);\r\n                score[\"Age\"].Name = ageList.getModel(\"Age\").getData().AgeCollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n\r\n        var fallHistoryList = sap.ui.getCore().byId(\"API_FRA_FH_LIST\");\r\n        for (var i = 0; i < fallHistoryList.getModel(\"FH\").getData().FHCollection.length; i++) {\r\n            if (selectedData.FallHistoryValue == fallHistoryList.getModel(\"FH\").getData().FHCollection[i].Value) {\r\n                fallHistoryList.setSelectedItem(fallHistoryList.getItems()[i]);\r\n                score[\"FallHistory\"].Name = fallHistoryList.getModel(\"FH\").getData().FHCollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n\r\n        var ebuList = sap.ui.getCore().byId(\"API_FRA_EBU_LIST\");\r\n        for (var i = 0; i < ebuList.getModel(\"EBU\").getData().EBUCollection.length; i++) {\r\n            if (selectedData.EbuValue == ebuList.getModel(\"EBU\").getData().EBUCollection[i].Value) {\r\n                ebuList.setSelectedItem(ebuList.getItems()[i]);\r\n                score[\"EBU\"].Name = ebuList.getModel(\"EBU\").getData().EBUCollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n        var medicationList = sap.ui.getCore().byId(\"API_FRA_MED_LIST\");\r\n        for (var i = 0; i < medicationList.getModel(\"MED\").getData().MEDCollection.length; i++) {\r\n            if (selectedData.MedValue == medicationList.getModel(\"MED\").getData().MEDCollection[i].Value) {\r\n                medicationList.setSelectedItem(medicationList.getItems()[i]);\r\n                score[\"Medication\"].Name = medicationList.getModel(\"MED\").getData().MEDCollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n        var pceList = sap.ui.getCore().byId(\"API_FRA_PCE_LIST\");\r\n        for (var i = 0; i < pceList.getModel(\"PCE\").getData().PCECollection.length; i++) {\r\n            if (selectedData.PatCareEqValue == pceList.getModel(\"PCE\").getData().PCECollection[i].Value) {\r\n                pceList.setSelectedItem(pceList.getItems()[i]);\r\n                score[\"PCE\"].Name = pceList.getModel(\"PCE\").getData().PCECollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n        var mobilityList = sap.ui.getCore().byId(\"API_FRA_MOB_LIST\");\r\n        var k = 0;\r\n        for (var i = 0; i < 5; i++) {\r\n            if (selectedData[\"MobChk\" + i] == \"X\") {\r\n                score[\"Cognition\"][k++] = {\r\n                    \"Name\": mobilityList.getModel(\"MOB\").getData().MOBCollection[i].Value,\r\n                    \"Value\": mobilityList.getModel(\"MOB\").getData().MOBCollection[i].Name\r\n                };\r\n                mobilityList.setSelectedItem(mobilityList.getItems()[i]);\r\n            }\r\n        }\r\n        var cognitionList = sap.ui.getCore().byId(\"API_FRA_CON_LIST\");\r\n        var j = 0;\r\n        for (var i = 0; i < 5; i++) {\r\n            if (selectedData[\"CogniChk\" + i] == \"X\") {\r\n                score[\"Cognition\"][j++] = {\r\n                    \"Name\": cognitionList.getModel(\"CON\").getData().CONCollection[i].Value,\r\n                    \"Value\": cognitionList.getModel(\"CON\").getData().CONCollection[i].Name\r\n                };\r\n                cognitionList.setSelectedItem(cognitionList.getItems()[i]);\r\n            }\r\n        }\r\n        thatFRA.onMobilityMultiSelectionChange();\r\n        thatFRA.onCognitionMultiSelectionChange();\r\n        sap.ui.getCore().byId(\"API_FULL_RISK_ASSESSMENT_DIALOG\").getModel(\"ScoreModel\").refresh(true);\r\n\r\n        if (score[\"FallHistory\"].Value == \"6\" || score[\"FallHistory\"].Value == \"7\") {\r\n\r\n            thatFRA.setListDisable();\r\n            var fallHistoryList = sap.ui.getCore().byId(\"API_FRA_FH_LIST\").getAggregation(\"items\");\r\n            for (var i = 0; i < fallHistoryList.length; i++) {\r\n                fallHistoryList[i].getSingleSelectControl().setEnabled(true);\r\n            }\r\n            var mobilityList = sap.ui.getCore().byId(\"API_FRA_MOB_LIST\").getSelectedItems();\r\n            for (var i = 0; i < mobilityList.length; i++) {\r\n                mobilityList[i].setSelected(false);\r\n            }\r\n            var cognitionList = sap.ui.getCore().byId(\"API_FRA_CON_LIST\").getSelectedItems();\r\n            for (var i = 0; i < cognitionList.length; i++) {\r\n                cognitionList[i].setSelected(false);\r\n            }\r\n             score.TotalScore = 36;\r\n        }\r\n        sap.ui.getCore().byId(\"API_FALL_RISK_ASSESSMENT_TOTAL\").setVisible(true);\r\n                    sap.ui.getCore().byId(\"API_FALL_RISK_ASSESSMENT_TOTAL\").setText(\"Total Score :\" + score.TotalScore + \" (\" + ZHN_API_SCORES.utils.Formatter.getFRAInterpretation(parseInt(score.TotalScore)) + \")\");\r\n\r\n    },\r\n\r\n    // setting enablity of buttons based on mode \r\n    setButtonsEnability: function() {\r\n        var thatFRA = this;\r\n        if (_patient.Mode == \"E\") {\r\n            thatFRA.setListEnable();\r\n            if (_patient.Status == \"IW\") {\r\n                sap.ui.getCore().byId(\"API_FRA_RELEASE_BUTTON\").setVisible(true);\r\n                sap.ui.getCore().byId(\"API_FRA_SAVE_BUTTON\").setVisible(true);\r\n            } else {\r\n                sap.ui.getCore().byId(\"API_FRA_RELEASE_BUTTON\").setVisible(false);\r\n                sap.ui.getCore().byId(\"API_FRA_SAVE_BUTTON\").setVisible(false);\r\n            }\r\n        } else {\r\n            thatFRA.setListDisable();\r\n            sap.ui.getCore().byId(\"API_FRA_RELEASE_BUTTON\").setVisible(false);\r\n            sap.ui.getCore().byId(\"API_FRA_SAVE_BUTTON\").setVisible(false);\r\n        }\r\n    },\r\n\r\n    // FRA total score model initialisation\r\n    initFRATotalScore: function() {\r\n        var scoreModel = new sap.ui.model.json.JSONModel({\r\n            \"ScoreModel\": [{\r\n                \"TotalScore\": \"\",\r\n                \"Age\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                },\r\n                \"FallHistory\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                },\r\n                \"EBU\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                },\r\n                \"Medication\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                },\r\n                \"PCE\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                },\r\n                \"Mobility\": {\r\n                    \"Value\": \"\"\r\n                },\r\n                \"Cognition\": {\r\n                    \"Value\": \"\"\r\n                }\r\n            }]\r\n        });\r\n        sap.ui.getCore().byId(\"API_FULL_RISK_ASSESSMENT_DIALOG\").setModel(scoreModel, \"ScoreModel\");\r\n        sap.ui.getCore().byId(\"API_FULL_RISK_ASSESSMENT_DIALOG\").bindElement(\"ScoreModel>/ScoreModel/0\");\r\n        sap.ui.getCore().byId(\"API_FULL_RISK_ASSESSMENT_DIALOG\").getModel(\"ScoreModel\").refresh(true);\r\n    },\r\n\r\n    // on change of list selection\r\n    onSelectionChange: function(oEvent) {\r\n        var thatFRA = this;\r\n        var object;\r\n        var path = oEvent.getSource().getSelectedContextPaths()[0].split(\"/\");\r\n        var model = path[1];\r\n        switch (model) {\r\n            case \"AgeCollection\":\r\n                object = sap.ui.getCore().byId(\"API_FRA_AGE_LIST\").getModel(\"Age\").getData().AgeCollection[path[2]];\r\n                thatFRA.modifyFRATotalScore(\"Age\", object);\r\n                break;\r\n            case \"FHCollection\":\r\n                object = sap.ui.getCore().byId(\"API_FRA_FH_LIST\").getModel(\"FH\").getData().FHCollection[path[2]];\r\n                thatFRA.modifyFRATotalScore(\"FallHistory\", object);\r\n                var score = sap.ui.getCore().byId(\"API_FULL_RISK_ASSESSMENT_DIALOG\").getModel(\"ScoreModel\").getData().ScoreModel[0];\r\n                if (path[2] == \"2\" || path[2] == \"3\") {\r\n                    thatFRA.setListDisable();\r\n\r\n                    var fallHistoryList = sap.ui.getCore().byId(\"API_FRA_FH_LIST\").getAggregation(\"items\");\r\n                    for (var i = 0; i < fallHistoryList.length; i++) {\r\n                        fallHistoryList[i].getSingleSelectControl().setEnabled(true);\r\n                    }\r\n                    var ebuList = sap.ui.getCore().byId(\"API_FRA_EBU_LIST\").getSelectedItems();\r\n                    for (var i = 0; i < ebuList.length; i++) {\r\n                        ebuList[i].setSelected(false);\r\n                    }\r\n                    score.EBU.Name = \"\";\r\n                    score.EBU.Value = \"\";\r\n\r\n                    var medList = sap.ui.getCore().byId(\"API_FRA_MED_LIST\").getSelectedItems();\r\n                    for (var i = 0; i < medList.length; i++) {\r\n                        medList[i].setSelected(false);\r\n                    }\r\n                    score.Medication.Name = \"\";\r\n                    score.Medication.Value = \"\";\r\n\r\n                    var pceList = sap.ui.getCore().byId(\"API_FRA_PCE_LIST\").getSelectedItems();\r\n                    for (var i = 0; i < pceList.length; i++) {\r\n                        pceList[i].setSelected(false);\r\n                    }\r\n                    score.PCE.Name = \"\";\r\n                    score.PCE.Value = \"\";\r\n\r\n                    var mobilityList = sap.ui.getCore().byId(\"API_FRA_MOB_LIST\").getSelectedItems();\r\n                    for (var i = 0; i < mobilityList.length; i++) {\r\n                        mobilityList[i].setSelected(false);\r\n                    }\r\n                    score.Mobility.Name = \"\";\r\n                    score.Mobility.Value = \"\";\r\n\r\n                    var cognitionList = sap.ui.getCore().byId(\"API_FRA_CON_LIST\").getSelectedItems();\r\n                    for (var i = 0; i < cognitionList.length; i++) {\r\n                        cognitionList[i].setSelected(false);\r\n                    }\r\n                    score.Cognition.Name = \"\";\r\n                    score.Cognition.Value = \"\";\r\n\r\n                    score.TotalScore = 36;\r\n                    sap.ui.getCore().byId(\"API_FALL_RISK_ASSESSMENT_TOTAL\").setVisible(true);\r\n                    sap.ui.getCore().byId(\"API_FALL_RISK_ASSESSMENT_TOTAL\").setText(\"Total Score :\" + score.TotalScore + \" (\" + ZHN_API_SCORES.utils.Formatter.getFRAInterpretation(parseInt(score.TotalScore)) + \")\");\r\n\r\n\r\n                } else {\r\n                    \r\n                    if (score.Age.Value && (score.FallHistory.Value == \"0\" || score.FallHistory.Value == \"5\") && score.EBU.Value && score.Medication.Value && score.PCE.Value) {\r\n                   \r\n                    sap.ui.getCore().byId(\"API_FALL_RISK_ASSESSMENT_TOTAL\").setVisible(true);\r\n                    sap.ui.getCore().byId(\"API_FALL_RISK_ASSESSMENT_TOTAL\").setText(\"Total Score :\" + score.TotalScore + \" (\" + ZHN_API_SCORES.utils.Formatter.getFRAInterpretation(parseInt(score.TotalScore)) + \")\");\r\n                    }else{\r\n                         score.TotalScore = \"\";\r\n                    sap.ui.getCore().byId(\"API_FALL_RISK_ASSESSMENT_TOTAL\").setVisible(false);\r\n                    sap.ui.getCore().byId(\"API_FALL_RISK_ASSESSMENT_TOTAL\").setText(\"\");\r\n                    }\r\n                   \r\n                    thatFRA.setListEnable();\r\n                }\r\n                sap.ui.getCore().byId(\"API_FULL_RISK_ASSESSMENT_DIALOG\").getModel(\"ScoreModel\").refresh(true);\r\n                break;\r\n            case \"EBUCollection\":\r\n                object = sap.ui.getCore().byId(\"API_FRA_EBU_LIST\").getModel(\"EBU\").getData().EBUCollection[path[2]];\r\n                thatFRA.modifyFRATotalScore(\"EBU\", object);\r\n                break;\r\n            case \"PCECollection\":\r\n                object = sap.ui.getCore().byId(\"API_FRA_PCE_LIST\").getModel(\"PCE\").getData().PCECollection[path[2]];\r\n                thatFRA.modifyFRATotalScore(\"PCE\", object);\r\n                break;\r\n            case \"MEDCollection\":\r\n                object = sap.ui.getCore().byId(\"API_FRA_MED_LIST\").getModel(\"MED\").getData().MEDCollection[path[2]];\r\n                thatFRA.modifyFRATotalScore(\"Medication\", object);\r\n                break;\r\n        }\r\n    },\r\n\r\n    // enable lists for edit mode\r\n    setListEnable: function(oEvent) {\r\n        var ageList = sap.ui.getCore().byId(\"API_FRA_AGE_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < ageList.length; i++) {\r\n            ageList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n        var fallHistoryList = sap.ui.getCore().byId(\"API_FRA_FH_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < fallHistoryList.length; i++) {\r\n            fallHistoryList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n        var ebuList = sap.ui.getCore().byId(\"API_FRA_EBU_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < ebuList.length; i++) {\r\n            ebuList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n        var medicationList = sap.ui.getCore().byId(\"API_FRA_MED_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < medicationList.length; i++) {\r\n            medicationList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n        var pceList = sap.ui.getCore().byId(\"API_FRA_PCE_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < pceList.length; i++) {\r\n            pceList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n        var mobilityList = sap.ui.getCore().byId(\"API_FRA_MOB_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < mobilityList.length; i++) {\r\n            mobilityList[i].getMultiSelectControl().setEnabled(true);\r\n        }\r\n        var cognitionList = sap.ui.getCore().byId(\"API_FRA_CON_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < cognitionList.length; i++) {\r\n            cognitionList[i].getMultiSelectControl().setEnabled(true);\r\n        }\r\n    },\r\n\r\n    // disable lists for display mode\r\n    setListDisable: function(oEvent) {\r\n        var ageList = sap.ui.getCore().byId(\"API_FRA_AGE_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < ageList.length; i++) {\r\n            ageList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n        var fallHistoryList = sap.ui.getCore().byId(\"API_FRA_FH_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < fallHistoryList.length; i++) {\r\n            fallHistoryList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n        var ebuList = sap.ui.getCore().byId(\"API_FRA_EBU_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < ebuList.length; i++) {\r\n            ebuList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n        var medicationList = sap.ui.getCore().byId(\"API_FRA_MED_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < medicationList.length; i++) {\r\n            medicationList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n        var pceList = sap.ui.getCore().byId(\"API_FRA_PCE_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < pceList.length; i++) {\r\n            pceList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n        var mobilityList = sap.ui.getCore().byId(\"API_FRA_MOB_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < mobilityList.length; i++) {\r\n            mobilityList[i].getMultiSelectControl().setEnabled(false);\r\n        }\r\n        var cognitionList = sap.ui.getCore().byId(\"API_FRA_CON_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < cognitionList.length; i++) {\r\n            cognitionList[i].getMultiSelectControl().setEnabled(false);\r\n        }\r\n    },\r\n\r\n    // on mobility change\r\n    onMobilityMultiSelectionChange: function(oEvent) {\r\n        var mobilityList = sap.ui.getCore().byId(\"API_FRA_MOB_LIST\");\r\n        var totalMobVal = \"\";\r\n        for (var i = 0; i < mobilityList.getSelectedItems().length; i++) {\r\n            totalMobVal = parseInt(totalMobVal + parseInt(mobilityList.getModel(\"MOB\").getData().MOBCollection[mobilityList.getSelectedItems()[i].getBindingContextPath().split(\"/\")[2]].Value));\r\n        }\r\n        var score = sap.ui.getCore().byId(\"API_FULL_RISK_ASSESSMENT_DIALOG\").getModel(\"ScoreModel\").getData().ScoreModel[0];\r\n        score.Mobility.Value = totalMobVal.toString();\r\n        if (score.Age.Value && score.FallHistory.Value && score.EBU.Value && score.Medication.Value && score.PCE.Value) {\r\n            score.TotalScore = (parseInt(score.Age.Value) + parseInt(score.FallHistory.Value) + parseInt(score.EBU.Value) + parseInt(score.Medication.Value) + parseInt(score.PCE.Value)).toString();\r\n            if (score.Mobility.Value)\r\n                score.TotalScore = (parseInt(score.TotalScore) + parseInt(score.Mobility.Value)).toString();\r\n            if (score.Cognition.Value)\r\n                score.TotalScore = (parseInt(score.TotalScore) + parseInt(score.Cognition.Value)).toString();\r\n            sap.ui.getCore().byId(\"API_FALL_RISK_ASSESSMENT_TOTAL\").setVisible(true);\r\n            sap.ui.getCore().byId(\"API_FALL_RISK_ASSESSMENT_TOTAL\").setText(\"Total Score :\" + score.TotalScore + \" (\" + ZHN_API_SCORES.utils.Formatter.getFRAInterpretation(parseInt(score.TotalScore)) + \")\");\r\n\r\n        } else\r\n            score.TotalScore = \"\";\r\n        sap.ui.getCore().byId(\"API_FULL_RISK_ASSESSMENT_DIALOG\").getModel(\"ScoreModel\").refresh(true);\r\n\r\n    },\r\n\r\n    // on cognition selection\r\n    onCognitionMultiSelectionChange: function(oEvent) {\r\n        var cognitionList = sap.ui.getCore().byId(\"API_FRA_CON_LIST\");\r\n        var totalCognVal = \"\";\r\n        for (var i = 0; i < cognitionList.getSelectedItems().length; i++) {\r\n            totalCognVal = parseInt(totalCognVal + parseInt(cognitionList.getModel(\"CON\").getData().CONCollection[cognitionList.getSelectedItems()[i].getBindingContextPath().split(\"/\")[2]].Value));\r\n        }\r\n        var score = sap.ui.getCore().byId(\"API_FULL_RISK_ASSESSMENT_DIALOG\").getModel(\"ScoreModel\").getData().ScoreModel[0];\r\n        score.Cognition.Value = totalCognVal.toString();\r\n        if (score.Age.Value && score.FallHistory.Value && score.EBU.Value && score.Medication.Value && score.PCE.Value) {\r\n            score.TotalScore = (parseInt(score.Age.Value) + parseInt(score.FallHistory.Value) + parseInt(score.EBU.Value) + parseInt(score.Medication.Value) + parseInt(score.PCE.Value)).toString();\r\n            if (score.Mobility.Value)\r\n                score.TotalScore = (parseInt(score.TotalScore) + parseInt(score.Mobility.Value)).toString();\r\n            if (score.Cognition.Value)\r\n                score.TotalScore = (parseInt(score.TotalScore) + parseInt(score.Cognition.Value)).toString();\r\n            sap.ui.getCore().byId(\"API_FALL_RISK_ASSESSMENT_TOTAL\").setVisible(true);\r\n            sap.ui.getCore().byId(\"API_FALL_RISK_ASSESSMENT_TOTAL\").setText(\"Total Score :\" + score.TotalScore + \" (\" + ZHN_API_SCORES.utils.Formatter.getFRAInterpretation(parseInt(score.TotalScore)) + \")\");\r\n\r\n        } else\r\n            score.TotalScore = \"\";\r\n        sap.ui.getCore().byId(\"API_FULL_RISK_ASSESSMENT_DIALOG\").getModel(\"ScoreModel\").refresh(true);\r\n    },\r\n\r\n    // total score\r\n    modifyFRATotalScore: function(path, object) {\r\n        var score = sap.ui.getCore().byId(\"API_FULL_RISK_ASSESSMENT_DIALOG\").getModel(\"ScoreModel\").getData().ScoreModel[0];\r\n        score[path].Name = object.Name;\r\n        score[path].Value = object.Value ? object.Value : \"\";\r\n        if (score.Age.Value && score.FallHistory.Value && score.EBU.Value && score.Medication.Value && score.PCE.Value) {\r\n            score.TotalScore = (parseInt(score.Age.Value) + parseInt(score.FallHistory.Value) + parseInt(score.EBU.Value) + parseInt(score.Medication.Value) + parseInt(score.PCE.Value)).toString();\r\n            if (score.Mobility.Value)\r\n                score.TotalScore = (parseInt(score.TotalScore) + parseInt(score.Mobility.Value)).toString();\r\n            if (score.Cognition.Value)\r\n                score.TotalScore = (parseInt(score.TotalScore) + parseInt(score.Cognition.Value)).toString();\r\n            sap.ui.getCore().byId(\"API_FALL_RISK_ASSESSMENT_TOTAL\").setVisible(true);\r\n            sap.ui.getCore().byId(\"API_FALL_RISK_ASSESSMENT_TOTAL\").setText(\"Total Score :\" + score.TotalScore + \" (\" + ZHN_API_SCORES.utils.Formatter.getFRAInterpretation(parseInt(score.TotalScore)) + \")\");\r\n\r\n        } else\r\n            score.TotalScore = \"\";\r\n        sap.ui.getCore().byId(\"API_FULL_RISK_ASSESSMENT_DIALOG\").getModel(\"ScoreModel\").refresh(true);\r\n    },\r\n\r\n    // on save pressed\r\n    _handleAPIFallRiskAssesSavePressed: function() {\r\n        var thatFRA = this;\r\n        var score = sap.ui.getCore().byId(\"API_FULL_RISK_ASSESSMENT_DIALOG\").getModel(\"ScoreModel\").getData().ScoreModel[0];\r\n        if (score.FallHistory.Value) {\r\n            var data = null;\r\n            var totalScoreAbrValue = null;\r\n            var totalScoreValue = score.TotalScore;\r\n            if (score.Age.Value && (score.FallHistory.Value == \"0\" || score.FallHistory.Value == \"5\") && score.EBU.Value && score.Medication.Value && score.PCE.Value) {\r\n                if (parseInt(totalScoreValue) <= 5) {\r\n                    totalScoreAbrValue = \"Low Risk\";\r\n                } else if (parseInt(totalScoreValue) >= 6 && parseInt(totalScoreValue) <= 13) {\r\n                    totalScoreAbrValue = \"Moderate Risk\";\r\n                } else if (parseInt(totalScoreValue) >= 14) {\r\n                    totalScoreAbrValue = \"High Risk\";\r\n                }\r\n            } else if (score.FallHistory.Value == \"6\" || score.FallHistory.Value == \"7\") {\r\n                score.Age.Value = \"\";\r\n                score.EBU.Value = \"\";\r\n                score.Medication.Value = \"\";\r\n                score.PCE.Value = \"\";\r\n                totalScoreValue = \"36\";\r\n                totalScoreAbrValue = \"High Risk\";\r\n            } else {\r\n                sap.m.MessageToast.show(\"Please enter all the scores before saving.\");\r\n                return;\r\n            }\r\n\r\n            data = {\r\n                DocumentType: _patient.DocumentType,\r\n                DocumentNumber: _patient.DocumentNo,\r\n                DocumentVersion: _patient.DocumentVersion,\r\n                DocumentPart: _patient.DocumantPart,\r\n                PatientName: _patient.PatientName,\r\n                PatientMrn: _patient.PatientId,\r\n                PatientSex: _patient.Sex,\r\n                PatientDob: _patient.Birthdate,\r\n                PatientDoctor: _patient.PatientDoctor,\r\n                PatientAge: _patient.Age,\r\n                PatientCasetype: _patient.CaseType,\r\n                PatientCaseno: _patient.CaseNo,\r\n                AgeScrBox: \"\",\r\n                AgeValue: score.Age.Value,\r\n                EbuScrBox: \"\",\r\n                EbuValue: score.EBU.Value,\r\n                MedScrBox: \"\",\r\n                MedValue: score.Medication.Value,\r\n                PatCareEqScrBox: \"\",\r\n                PatCareEqValue: score.PCE.Value,\r\n                FallHistoryScrBox: \"\",\r\n                FallHistoryValue: score.FallHistory.Value,\r\n                MobChk1: (sap.ui.getCore().byId(\"API_FRA_MOB_LIST\").getItems()[1].isSelected() == true) ? \"X\" : \"\",\r\n                MobChk2: (sap.ui.getCore().byId(\"API_FRA_MOB_LIST\").getItems()[2].isSelected() == true) ? \"X\" : \"\",\r\n                MobChk3: (sap.ui.getCore().byId(\"API_FRA_MOB_LIST\").getItems()[3].isSelected() == true) ? \"X\" : \"\",\r\n                Mobility: \"\",\r\n                Cognition: \"\",\r\n                CogniChk1: (sap.ui.getCore().byId(\"API_FRA_CON_LIST\").getItems()[1].isSelected() == true) ? \"X\" : \"\",\r\n                CogniChk2: (sap.ui.getCore().byId(\"API_FRA_CON_LIST\").getItems()[2].isSelected() == true) ? \"X\" : \"\",\r\n                CogniChk3: (sap.ui.getCore().byId(\"API_FRA_CON_LIST\").getItems()[3].isSelected() == true) ? \"X\" : \"\",\r\n                TotalScore: totalScoreValue,\r\n                TotInte: totalScoreAbrValue,\r\n                PmdPackag: \"\",\r\n                MobChk0: (sap.ui.getCore().byId(\"API_FRA_MOB_LIST\").getItems()[0].isSelected() == true) ? \"X\" : \"\",\r\n                CogniChk0: (sap.ui.getCore().byId(\"API_FRA_CON_LIST\").getItems()[0].isSelected() == true) ? \"X\" : \"\",\r\n                MobNchk3: \"\",\r\n                CogniNchk: \"\",\r\n                Institution: \"RFH1\",\r\n                DepartmentOu: _patient.DeptOu,\r\n                EmployeeResp: \"\",\r\n                SCFRSKDETAILHDRTOITEM: []\r\n            };\r\n            if (_patient.DocumentNo && _patient.Mode == \"E\") {\r\n                data.Mode = \"U\";\r\n            } else {\r\n                data.Mode = \"C\";\r\n            }\r\n\r\n            thatFRA.oModel.create(\"/ScfRskDetailHdrSet\", data, null, function(oData, oResponse) {\r\n                thatFRA[\"FallRiskAssessmentCreate\"].destroy();\r\n                sap.m.MessageToast.show(oResponse.headers[\"sap-message\"]);\r\n                if (thatFRA.fraDirectRelease) {\r\n                    var docNumber = oResponse.headers[\"sap-message\"].split(\" \")[2];\r\n                    var data = {\r\n                    \t\t \"DocumentNumber\": docNumber,\r\n                             \"DocumentType\": _patient.DocumentType ? _patient.DocumentType : \"MED\",\r\n                             \"DocumentVersion\": _patient.DocumentVersion ? _patient.DocumentVersion : \"00\",\r\n                             \"DocumentPart\": _patient.DocumantPart ? _patient.DocumantPart : \"000\"\r\n                    };\r\n                    thatFRA.oModel.update(\"PmdReleaseSet('\" + docNumber + \"')\", data, null, function(oData, oResponse) {\r\n                            thatFRA.fraDirectRelease = false;\r\n                            sap.m.MessageToast.show(oResponse.headers[\"sap-message\"]);\r\n                            var eb = sap.ui.getCore().getEventBus();\r\n                            var returnData = {\r\n                                    \"DocumentNumber\": docNumber,\r\n                                    \"DocumentType\": _patient.DocumentType,\r\n                                    \"DocumentVersion\": _patient.DocumentVersion,\r\n                                    \"DocumentPart\": _patient.DocumantPart,\r\n                                    \"TotalScore\": totalScoreValue,\r\n                                    \"Interpretation\": totalScoreAbrValue\r\n                                };\r\n                            eb.publish(\"ZHN_API_SCORES\", \"FRARelease\", returnData);\r\n                        },\r\n                        function(oData, oResponse) {\r\n                            var msg = oData.response.body;\r\n                            msg = JSON.parse(msg);\r\n                            msg = msg.error.message.value;\r\n                            sap.m.MessageBox.show(msg, {\r\n                                title: \"Alert\",\r\n                                icon: sap.m.MessageBox.Icon.ERROR,\r\n                                actions: [sap.m.MessageBox.Action.OK],\r\n                            });\r\n                        });\r\n                }else{\r\n                \tvar eb = sap.ui.getCore().getEventBus();\r\n                \teb.publish(\"ZHN_API_SCORES\", \"ScoresSaveClose\", {});\r\n                }\r\n\r\n            }, function(oData, oResponse) {\r\n                /* failed */\r\n                var msg = oData.response.body;\r\n                msg = JSON.parse(msg);\r\n                msg = msg.error.message.value;\r\n                sap.m.MessageBox.show(msg, {\r\n                    title: \"Alert\",\r\n                    icon: sap.m.MessageBox.Icon.ERROR,\r\n                    actions: [sap.m.MessageBox.Action.OK],\r\n                });\r\n            });\r\n        } else {\r\n            sap.m.MessageToast.show(\"Please enter all the scores before saving.\");\r\n        }\r\n    },\r\n\r\n    // on release pressed\r\n    _handleAPIFallRiskAssesReleasePressed: function() {\r\n        var thatFRA = this;\r\n        thatFRA.fraDirectRelease = true;\r\n        thatFRA._handleAPIFallRiskAssesSavePressed();\r\n        thatFRA.fraDirectRelease = false;\r\n    }\r\n\r\n});",
		"ZHN_API_SCORES/fallRiskAssessment/FallRiskAssessmentCreate.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\"\r\n\txmlns:core=\"sap.ui.core\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\"\r\n\txmlns:app=\"http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1\">\r\n\t<Dialog showHeader=\"false\" class=\"sapUiSizeCompact\" width=\"100%\"\r\n\t\tid=\"API_FULL_RISK_ASSESSMENT_DIALOG\">\r\n\t\t<subHeader>\r\n\t\t\t<Bar>\r\n\t\t\t\t<contentMiddle>\r\n\t\t\t\t\t<Label text=\"Fall Risk Assessment\" design=\"Bold\" />\r\n\t\t\t\t</contentMiddle>\r\n\t\t\t\t<contentRight>\r\n\t\t\t\t\t<Button id=\"API_FALL_RISK_ASSESSMENT_TOTAL\" type=\"Emphasized\" visible=\"false\" />\r\n\t\t\t\t</contentRight>\r\n\t\t\t</Bar>\r\n\r\n\t\t</subHeader>\r\n\t\t<content>\r\n\t\t\t<l:Grid defaultSpan=\"L4 M4 S12\" width=\"auto\" position=\"Center\"\r\n\t\t\t\tvSpacing=\"10px\">\r\n\t\t\t\t<l:content>\r\n\t\t\t\t\t<Table id=\"API_FRA_AGE_LIST\" items=\"{Age>/AgeCollection}\"\r\n\t\t\t\t\t\tselectionChange=\"onSelectionChange\" headerText=\"Age ({ScoreModel>Age/Value})\"\r\n\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t</columns>\r\n\r\n\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t<Text text=\"{Age>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t<Text text=\"{Age>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t\t<Table id=\"API_FRA_FH_LIST\" items=\"{FH>/FHCollection}\"\r\n\t\t\t\t\t\tselectionChange=\"onSelectionChange\" headerText=\"Fall History ({ScoreModel>FallHistory/Value})\"\r\n\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t<Text text=\"{FH>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t<Text text=\"{FH>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t\t<Table id=\"API_FRA_EBU_LIST\" items=\"{EBU>/EBUCollection}\"\r\n\t\t\t\t\t\tselectionChange=\"onSelectionChange\"\r\n\t\t\t\t\t\theaderText=\"Elimination,Bowel and Urine ({ScoreModel>EBU/Value})\"\r\n\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t<Text text=\"{EBU>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t<Text text=\"{EBU>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</l:content>\r\n\t\t\t</l:Grid>\r\n\t\t\t<l:Grid defaultSpan=\"L4 M4 S12\" width=\"auto\" position=\"Center\"\r\n\t\t\t\tvSpacing=\"10px\">\r\n\t\t\t\t<l:content>\r\n\t\t\t\t\t<Table id=\"API_FRA_MED_LIST\" items=\"{MED>/MEDCollection}\"\r\n\t\t\t\t\t\tselectionChange=\"onSelectionChange\" headerText=\"Medication ({ScoreModel>Medication/Value})\"\r\n\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t<Text text=\"{MED>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t<Text text=\"{MED>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t\t<Table id=\"API_FRA_PCE_LIST\" items=\"{PCE>/PCECollection}\"\r\n\t\t\t\t\t\tselectionChange=\"onSelectionChange\" headerText=\"Patient Care Equipment ({ScoreModel>PCE/Value})\"\r\n\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t<Text text=\"{PCE>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t<Text text=\"{PCE>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t\t<Table id=\"API_FRA_MOB_LIST\" items=\"{MOB>/MOBCollection}\"\r\n\t\t\t\t\t\tselectionChange=\"onMobilityMultiSelectionChange\" headerText=\"Mobility ({ScoreModel>Mobility/Value})\"\r\n\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"MultiSelect\">\r\n\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t<Text text=\"{MOB>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t<Text text=\"{MOB>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</l:content>\r\n\t\t\t</l:Grid>\r\n\t\t\t<l:Grid defaultSpan=\"L4 M4 S12\" width=\"auto\" position=\"Center\"\r\n\t\t\t\tvSpacing=\"10px\">\r\n\t\t\t\t<l:content>\r\n\t\t\t\t\t<Table id=\"API_FRA_CON_LIST\" items=\"{CON>/CONCollection}\"\r\n\t\t\t\t\t\tselectionChange=\"onCognitionMultiSelectionChange\" headerText=\"Cognition ({ScoreModel>Cognition/Value})\"\r\n\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"MultiSelect\">\r\n\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t<Text text=\"{CON>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t<Text text=\"{CON>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</l:content>\r\n\t\t\t</l:Grid>\r\n\r\n\t\t</content>\r\n\t\t<buttons>\r\n\r\n\t\t\t<Button text=\"Release\" press=\"_handleAPIFallRiskAssesReleasePressed\" id=\"API_FRA_RELEASE_BUTTON\"\r\n\t\t\t\tapp:dialogType=\"FallRiskAssessmentCreate\" />\r\n\t\t\t<Button text=\"Save\" type=\"Accept\" press=\"_handleAPIFallRiskAssesSavePressed\" id=\"API_FRA_SAVE_BUTTON\"\r\n\t\t\t\tapp:dialogType=\"FallRiskAssessmentCreate\" />\r\n\t\t\t<Button text=\"Cancel\" type=\"Reject\" press=\"onDialogclose\"\r\n\t\t\t\tapp:dialogType=\"FallRiskAssessmentCreate\" />\r\n\t\t</buttons>\r\n\t</Dialog>\r\n</core:FragmentDefinition>",
		"ZHN_API_SCORES/glasgowComa/GlasgowComa.js": "jQuery.sap.declare(\"ZHN_API_SCORES.glasgowComa.GlasgowComa\");\r\njQuery.sap.require(\"sap.ui.core.Component\");\r\njQuery.sap.require(\"ZHN_API_SCORES.utils.Formatter\");\r\nsap.ui.core.Component.extend(\"ZHN_API_SCORES.glasgowComa.GlasgowComa\", {\r\n\r\n    initGlasgowComa: function(that, patient) {\r\n        _thatGCS = that;\r\n        _patient = patient;\r\n        /*{   Institution: \"RFH1\",\r\n               PatientId: \"10005132\",\r\n               CaseNo: \"1000010460\",\r\n               PatientName: \"Test Deepakradio\",\r\n               Sex:\"Female\",\r\n               Birthdate:\"/Date(-97977600000)/\",\r\n               PatientDoctor:\"Preeti Chhabria\",\r\n               Age:\"49 years\",\r\n               CaseType:\"1\",\r\n               DeptOu:\"1ANAES\",\r\n               Status:\"\",\r\n               DocumentNo :\"\",\r\n               DocumentType :\"\",\r\n               DocumentVersion :\"\",\r\n               DocumantPart : \"\",\r\n               Mode : \"E\"\r\n\t    }*/\r\n\r\n        var _proxy = \"\";\r\n       //var _proxy = \"proxy/http/devnwngd.ril.com:8000\";\r\n        // Initialize service model\r\n        var serviceUrl = _proxy + \"/sap/opu/odata/sap/Z_FIORI_SCORES_PMD_SRV\";\r\n        this.oModel = new sap.ui.model.odata.ODataModel(serviceUrl, true);\r\n\r\n        this.openDialog(\"GlasgowComaCreate\");\r\n        this.initGlasgowComaCreateDiag();\r\n    },\r\n\r\n    // open dialog\r\n    openDialog: function(sName) {\r\n        if (!this[sName]) {\r\n            this[sName] = sap.ui.xmlfragment(\"ZHN_API_SCORES/glasgowComa/\" + sName, this);\r\n            _thatGCS.getView().addDependent(this[sName]);\r\n        }\r\n        this[sName].open();\r\n    },\r\n\r\n    // close dialog\r\n    onDialogclose: function(oEvent) {\r\n        var sName = \"\";\r\n        if (typeof oEvent == \"object\")\r\n            sName = oEvent.getSource().getCustomData()[0].getValue();\r\n        else\r\n            sName = oEvent;\r\n        this[sName].destroy();\r\n        this[sName] = undefined;\r\n    \tvar eb = sap.ui.getCore().getEventBus();\r\n    \teb.publish(\"ZHN_API_SCORES\", \"ScoresSaveClose\", {});\r\n    },\r\n\r\n    // create glassgow coma dialog\r\n    initGlasgowComaCreateDiag: function() {\r\n        var thatGCS = this;\r\n        thatGCS.initGCSTotalScore();\r\n        var oMRModel = new sap.ui.model.json.JSONModel({\r\n            \"MRCollection\": [{\r\n                \"Name\": \"None\",\r\n                \"Value\": \"1\"\r\n            }, {\r\n                \"Name\": \"Extension posturing\",\r\n                \"Value\": \"2\"\r\n            }, {\r\n                \"Name\": \"Abnormal flexion posturing\",\r\n                \"Value\": \"3\"\r\n            }, {\r\n                \"Name\": \"Withdraws (Flexion)\",\r\n                \"Value\": \"4\"\r\n            }, {\r\n                \"Name\": \"Localizes\",\r\n                \"Value\": \"5\"\r\n            }, {\r\n                \"Name\": \"Obeys\",\r\n                \"Value\": \"6\"\r\n            }]\r\n        });\r\n\r\n        var oVRModel = new sap.ui.model.json.JSONModel({\r\n            \"VRCollection\": [{\r\n                \"Name\": \"No power\",\r\n                \"Value\": \"1\"\r\n            }, {\r\n                \"Name\": \"Incomprehensible\",\r\n                \"Value\": \"2\"\r\n            }, {\r\n                \"Name\": \"Inappropriate\",\r\n                \"Value\": \"3\"\r\n            }, {\r\n                \"Name\": \"Confused\",\r\n                \"Value\": \"4\"\r\n            }, {\r\n                \"Name\": \"Oriented\",\r\n                \"Value\": \"5\"\r\n            }]\r\n        });\r\n\r\n        var oEOModel = new sap.ui.model.json.JSONModel({\r\n            \"EOCollection\": [{\r\n                \"Name\": \"None\",\r\n                \"Value\": \"1\"\r\n            }, {\r\n                \"Name\": \"To Pain\",\r\n                \"Value\": \"2\"\r\n            }, {\r\n                \"Name\": \"To Speech\",\r\n                \"Value\": \"3\"\r\n            }, {\r\n                \"Name\": \"Spontaneous\",\r\n                \"Value\": \"4\"\r\n            }]\r\n        });\r\n\r\n        sap.ui.getCore().byId(\"API_GCS_MR_LIST\").setModel(oMRModel, \"MR\");\r\n        sap.ui.getCore().byId(\"API_GCS_VR_LIST\").setModel(oVRModel, \"VR\");\r\n        sap.ui.getCore().byId(\"API_GCS_EO_LIST\").setModel(oEOModel, \"EO\");\r\n\r\n        if (_patient.DocumentNo) {\r\n            var sPath = \"GcsDetailHdrSet?$filter= DocumentNumber eq '\" + _patient.DocumentNo + \"' and DocumentVersion eq '\" + _patient.DocumentVersion + \"' and DocumentType eq '\" + _patient.DocumentType + \"' and DocumentPart eq '\" + _patient.DocumantPart + \"'&$expand=GCSDETAILHDRTOITEM\";\r\n            thatGCS.oModel.read(sPath, null, null, false, function(oData, oResponse) {\r\n                    thatGCS.initGCSTotalScore();\r\n                    var selectedData = oData.results[0];\r\n                    thatGCS.setSelectedDataToLists(selectedData);\r\n                    thatGCS.setButtonsEnability();\r\n                },\r\n                function(oData, oResponse) {\r\n                    /* failed */\r\n                    var msg = oData.response.body;\r\n                    msg = JSON.parse(msg);\r\n                    msg = msg.error.message.value;\r\n                    sap.m.MessageBox.show(msg, {\r\n                        title: \"Alert\",\r\n                        icon: sap.m.MessageBox.Icon.ERROR,\r\n                        actions: [sap.m.MessageBox.Action.OK],\r\n                    });\r\n                });\r\n        } else {\r\n            if (_patient.Mode == \"E\") {\r\n                sap.ui.getCore().byId(\"API_GCS_RELEASE_BUTTON\").setVisible(true);\r\n                sap.ui.getCore().byId(\"API_GCS_SAVE_BUTTON\").setVisible(true);\r\n            }\r\n        }\r\n    },\r\n\r\n    //In edit and display mode, set selected data to lists\r\n    setSelectedDataToLists: function(selectedData) {\r\n        var score = sap.ui.getCore().byId(\"API_GLASSGOW_COMA_DIALOG\").getModel(\"ScoreModel\").getData().ScoreModel[0];\r\n        score[\"BestMotorResponse\"].Value = selectedData.BeMotorResp;\r\n        score[\"BestVerbalResponse\"].Value = selectedData.BeVerbalResp;\r\n        score[\"EyeOpening\"].Value = selectedData.EyeOpen;\r\n        score.TotalScore = selectedData.GcsNTotal;\r\n        var motorRespList = sap.ui.getCore().byId(\"API_GCS_MR_LIST\");\r\n        for (var i = 0; i < motorRespList.getModel(\"MR\").getData().MRCollection.length; i++) {\r\n            if (selectedData.BeMotorResp == motorRespList.getModel(\"MR\").getData().MRCollection[i].Value) {\r\n                motorRespList.setSelectedItem(motorRespList.getItems()[i]);\r\n                score[\"BestMotorResponse\"].Name = motorRespList.getModel(\"MR\").getData().MRCollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n\r\n        var verbalRespList = sap.ui.getCore().byId(\"API_GCS_VR_LIST\");\r\n        for (var i = 0; i < verbalRespList.getModel(\"VR\").getData().VRCollection.length; i++) {\r\n            if (selectedData.BeVerbalResp == verbalRespList.getModel(\"VR\").getData().VRCollection[i].Value) {\r\n                verbalRespList.setSelectedItem(verbalRespList.getItems()[i]);\r\n                score[\"BestVerbalResponse\"].Name = verbalRespList.getModel(\"VR\").getData().VRCollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n        var eyeOpeningList = sap.ui.getCore().byId(\"API_GCS_EO_LIST\");\r\n        for (var i = 0; i < eyeOpeningList.getModel(\"EO\").getData().EOCollection.length; i++) {\r\n            if (selectedData.EyeOpen == eyeOpeningList.getModel(\"EO\").getData().EOCollection[i].Value) {\r\n                eyeOpeningList.setSelectedItem(eyeOpeningList.getItems()[i]);\r\n                score[\"EyeOpening\"].Name = eyeOpeningList.getModel(\"EO\").getData().EOCollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n\r\n        sap.ui.getCore().byId(\"API_GLASSGOW_COMA_DIALOG\").getModel(\"ScoreModel\").refresh(true);\r\n        sap.ui.getCore().byId(\"API_GLASSGOW_COMA_TOTAL\").setVisible(true);\r\n        sap.ui.getCore().byId(\"API_GLASSGOW_COMA_TOTAL\").setText(\"Total Score :\" + score.TotalScore + \" (\" + ZHN_API_SCORES.utils.Formatter.getGCSInterpretation(parseInt(score.TotalScore)) + \")\");\r\n    },\r\n\r\n    // setting enablity of buttons based on mode \r\n    setButtonsEnability: function() {\r\n        var thatGCS = this;\r\n        if (_patient.Mode == \"E\") {\r\n            thatGCS.setListEnable();\r\n            if (_patient.Status == \"IW\") {\r\n                sap.ui.getCore().byId(\"API_GCS_RELEASE_BUTTON\").setVisible(true);\r\n                sap.ui.getCore().byId(\"API_GCS_SAVE_BUTTON\").setVisible(true);\r\n            } else {\r\n                sap.ui.getCore().byId(\"API_GCS_RELEASE_BUTTON\").setVisible(false);\r\n                sap.ui.getCore().byId(\"API_GCS_SAVE_BUTTON\").setVisible(false);\r\n            }\r\n        } else {\r\n            thatGCS.setListDisable();\r\n            sap.ui.getCore().byId(\"API_GCS_RELEASE_BUTTON\").setVisible(false);\r\n            sap.ui.getCore().byId(\"API_GCS_SAVE_BUTTON\").setVisible(false);\r\n        }\r\n    },\r\n\r\n    // enable lists for edit mode\r\n    setListEnable: function(oEvent) {\r\n        var motorRespList = sap.ui.getCore().byId(\"API_GCS_MR_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < motorRespList.length; i++) {\r\n            motorRespList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n        var verbalRespList = sap.ui.getCore().byId(\"API_GCS_VR_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < verbalRespList.length; i++) {\r\n            verbalRespList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n        var eyeOpeningList = sap.ui.getCore().byId(\"API_GCS_EO_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < eyeOpeningList.length; i++) {\r\n            eyeOpeningList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n    },\r\n\r\n    // disable lists for display mode\r\n    setListDisable: function(oEvent) {\r\n        var motorRespList = sap.ui.getCore().byId(\"API_GCS_MR_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < motorRespList.length; i++) {\r\n            motorRespList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n        var verbalRespList = sap.ui.getCore().byId(\"API_GCS_VR_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < verbalRespList.length; i++) {\r\n            verbalRespList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n        var eyeOpeningList = sap.ui.getCore().byId(\"API_GCS_EO_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < eyeOpeningList.length; i++) {\r\n            eyeOpeningList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n    },\r\n\r\n    // GCS total score model initialisation\r\n    initGCSTotalScore: function() {\r\n        var scoreModel = new sap.ui.model.json.JSONModel({\r\n            \"ScoreModel\": [{\r\n                \"TotalScore\": \"\",\r\n                \"BestMotorResponse\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                },\r\n                \"BestVerbalResponse\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                },\r\n                \"EyeOpening\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                }\r\n            }]\r\n        });\r\n        sap.ui.getCore().byId(\"API_GLASSGOW_COMA_DIALOG\").setModel(scoreModel, \"ScoreModel\");\r\n        sap.ui.getCore().byId(\"API_GLASSGOW_COMA_DIALOG\").bindElement(\"ScoreModel>/ScoreModel/0\");\r\n        sap.ui.getCore().byId(\"API_GLASSGOW_COMA_DIALOG\").getModel(\"ScoreModel\").refresh(true);\r\n\r\n    },\r\n\r\n    // on change of list selection\r\n    onSelectionChange: function(oEvent) {\r\n        var thatGCS = this;\r\n        var object;\r\n        var path = oEvent.getSource().getSelectedContextPaths()[0].split(\"/\");\r\n        var model = path[1];\r\n        switch (model) {\r\n            case \"MRCollection\":\r\n                object = sap.ui.getCore().byId(\"API_GCS_MR_LIST\").getModel(\"MR\").getData().MRCollection[path[2]];\r\n                thatGCS.modifyGCSTotalScore(\"BestMotorResponse\", object);\r\n                break;\r\n            case \"VRCollection\":\r\n                object = sap.ui.getCore().byId(\"API_GCS_VR_LIST\").getModel(\"VR\").getData().VRCollection[path[2]];\r\n                thatGCS.modifyGCSTotalScore(\"BestVerbalResponse\", object);\r\n                break;\r\n            case \"EOCollection\":\r\n                object = sap.ui.getCore().byId(\"API_GCS_EO_LIST\").getModel(\"EO\").getData().EOCollection[path[2]];\r\n                thatGCS.modifyGCSTotalScore(\"EyeOpening\", object);\r\n                break;\r\n        }\r\n    },\r\n\r\n    // total score\r\n    modifyGCSTotalScore: function(path, object) {\r\n        var score = sap.ui.getCore().byId(\"API_GLASSGOW_COMA_DIALOG\").getModel(\"ScoreModel\").getData().ScoreModel[0];\r\n        score[path].Name = object.Name;\r\n        score[path].Value = object.Value ? object.Value : \"\";\r\n        if (score.BestMotorResponse.Value && score.BestVerbalResponse.Value && score.EyeOpening.Value) {\r\n            score.TotalScore = (parseInt(score.BestMotorResponse.Value) + parseInt(score.BestVerbalResponse.Value) + parseInt(score.EyeOpening.Value)).toString();\r\n            sap.ui.getCore().byId(\"API_GLASSGOW_COMA_TOTAL\").setVisible(true);\r\n            sap.ui.getCore().byId(\"API_GLASSGOW_COMA_TOTAL\").setText(\"Total Score :\" + score.TotalScore + \" (\" + ZHN_API_SCORES.utils.Formatter.getGCSInterpretation(parseInt(score.TotalScore)) + \")\");\r\n        }\r\n\r\n        sap.ui.getCore().byId(\"API_GLASSGOW_COMA_DIALOG\").getModel(\"ScoreModel\").refresh(true);\r\n    },\r\n\r\n    // on save pressed\r\n    _handleAPIGCSSavePressed: function() {\r\n        var thatGCS = this;\r\n        var score = sap.ui.getCore().byId(\"API_GLASSGOW_COMA_DIALOG\").getModel(\"ScoreModel\").getData().ScoreModel[0];\r\n        if (score.BestMotorResponse.Value && score.BestVerbalResponse.Value && score.EyeOpening.Value) {\r\n\r\n            var data = null;\r\n            var totalScoreAbrValue = null;\r\n            var totalScoreValue = score.TotalScore;\r\n            if (parseInt(totalScoreValue) < 9) {\r\n                totalScoreAbrValue = \"S\";\r\n            } else if (parseInt(totalScoreValue) >= 9 || parseInt(TotalScoreValue) < 13) {\r\n                totalScoreAbrValue = \"M\";\r\n            } else if (parseInt(totalScoreValue) >= 13) {\r\n                totalScoreAbrValue = \"N\";\r\n            }\r\n\r\n            data = {\r\n                BeMotorResp: score.BestMotorResponse.Value,\r\n                BeVerbalResp: score.BestVerbalResponse.Value,\r\n                DepartmentOu: _patient.DeptOu,\r\n                DocumentNumber: _patient.DocumentNo,\r\n                DocumentPart: _patient.DocumantPart,\r\n                DocumentType: _patient.DocumentType,\r\n                DocumentVersion: _patient.DocumentVersion,\r\n                EmployeeResp: \"\",\r\n                EyeOpen: score.EyeOpening.Value,\r\n                GCSDETAILHDRTOITEM: [],\r\n                GcsNInterpretion: totalScoreAbrValue,\r\n                GcsNTotal: totalScoreValue,\r\n                Institution: \"RFH1\",\r\n                NeuGcsped: \"\",\r\n                NeuroGlas: \"\",\r\n                PatientName: _patient.PatientName,\r\n                PatientMrn: _patient.Patient,\r\n                PatientSex: _patient.Sex,\r\n                PatientDob: _patient.Birthdate,\r\n                PatientDoctor: _patient.PatientDoctor,\r\n                PatientAge: _patient.Age,\r\n                PatientCasetype: _patient.CaseType,\r\n                PatientCaseno: _patient.CaseNo,\r\n                PmdPackage: \"\"\r\n            };\r\n            if (_patient.DocumentNo && _patient.Mode == \"E\") {\r\n                data.Mode = \"U\";\r\n            } else {\r\n                data.Mode = \"C\";\r\n            }\r\n\r\n            thatGCS.oModel.create(\"/GcsDetailHdrSet\", data, null, function(oData, oResponse) {\r\n                thatGCS[\"GlasgowComaCreate\"].destroy();\r\n                sap.m.MessageToast.show(oResponse.headers[\"sap-message\"]);\r\n                if (thatGCS.GCSDirectRelease) {\r\n                    var docNumber = oResponse.headers[\"sap-message\"].split(\" \")[2];\r\n                    var data = {\r\n                    \t\t \"DocumentNumber\": docNumber,\r\n                             \"DocumentType\": _patient.DocumentType ? _patient.DocumentType : \"MED\",\r\n                             \"DocumentVersion\": _patient.DocumentVersion ? _patient.DocumentVersion : \"00\",\r\n                             \"DocumentPart\": _patient.DocumantPart ? _patient.DocumantPart : \"000\"\r\n                    };\r\n                    thatGCS.oModel.update(\"PmdReleaseSet('\" + docNumber + \"')\", data, null, function(oData, oResponse) {\r\n                            thatGCS.GCSDirectRelease = false;\r\n                            sap.m.MessageToast.show(oResponse.headers[\"sap-message\"]);\r\n                            var eb = sap.ui.getCore().getEventBus();\r\n                            var returnData = {\r\n                                    \"DocumentNumber\": docNumber,\r\n                                    \"DocumentType\": _patient.DocumentType,\r\n                                    \"DocumentVersion\": _patient.DocumentVersion,\r\n                                    \"DocumentPart\": _patient.DocumantPart,\r\n                                    \"TotalScore\": totalScoreValue,\r\n                                    \"Interpretation\": totalScoreAbrValue\r\n                                };\r\n                            eb.publish(\"ZHN_API_SCORES\", \"GCSRelease\", returnData);\r\n                        \r\n                        },\r\n                        function(oData, oResponse) {\r\n                            thatGCS.GCSDirectRelease = false;\r\n                            var msg = oData.response.body;\r\n                            msg = JSON.parse(msg);\r\n                            msg = msg.error.message.value;\r\n                            sap.m.MessageBox.show(msg, {\r\n                                title: \"Alert\",\r\n                                icon: sap.m.MessageBox.Icon.ERROR,\r\n                                actions: [sap.m.MessageBox.Action.OK],\r\n                            });\r\n                        });\r\n                }else{\r\n                \tvar eb = sap.ui.getCore().getEventBus();\r\n                \teb.publish(\"ZHN_API_SCORES\", \"ScoresSaveClose\", {});\r\n                }\r\n            }, function(oData, response) {\r\n                /* failed */\r\n                var msg = oData.response.body;\r\n                msg = JSON.parse(msg);\r\n                msg = msg.error.message.value;\r\n                sap.m.MessageBox.show(msg, {\r\n                    title: \"Alert\",\r\n                    icon: sap.m.MessageBox.Icon.ERROR,\r\n                    actions: [sap.m.MessageBox.Action.OK],\r\n                });\r\n            });\r\n\r\n        } else {\r\n            sap.m.MessageToast.show(\"Please enter all the scores before saving.\");\r\n        }\r\n    },\r\n\r\n    // on release pressed\r\n    _handleAPIGCSReleasePressed: function() {\r\n        var thatGCS = this;\r\n        thatGCS.GCSDirectRelease = true;\r\n        thatGCS._handleAPIGCSSavePressed();\r\n        thatGCS.GCSDirectRelease = false;\r\n    }\r\n});",
		"ZHN_API_SCORES/braden/Braden.js": "jQuery.sap.declare(\"ZHN_API_SCORES.braden.Braden\");\r\njQuery.sap.require(\"sap.ui.core.Component\");\r\njQuery.sap.require(\"ZHN_API_SCORES.utils.Formatter\");\r\nsap.ui.core.Component.extend(\"ZHN_API_SCORES.braden.Braden\", {\r\n\r\n    initBraden: function(that, patient) {\r\n        _thatBS = that;\r\n        _patient = patient;\r\n        /*{   Institution: \"RFH1\",\r\n            PatientId: \"10005114\",\r\n            CaseNo: \"1000010436\",\r\n            PatientName: \"For PAC New Logic\",\r\n            Sex:\"Female\",\r\n            Birthdate:\"/Date(1454630400000)/\",\r\n            PatientDoctor:\"Sameer Gaggar\",\r\n            Age:\"4 months\",\r\n            CaseType:\"1\",\r\n            DeptOu:\"1CARDIO\",\r\n            Status:\"\",\r\n            DocumentNo :\"\",\r\n            DocumentType :\"\",\r\n            DocumentVersion :\"\",\r\n            DocumantPart : \"\",\r\n            Mode : \"\"\r\n\t    }*/\r\n\r\n        var _proxy = \"\";\r\n        //var _proxy = \"proxy/http/devnwngd.ril.com:8000\";\r\n        // Initialize service model\r\n        var serviceUrl = _proxy + \"/sap/opu/odata/sap/Z_FIORI_SCORES_PMD_SRV\";\r\n        this.oModel = new sap.ui.model.odata.ODataModel(serviceUrl, true);\r\n\r\n        this.openDialog(\"BradenCreate\");\r\n        this.initBradenCreateDiag();\r\n    },\r\n\r\n    // open dialog\r\n    openDialog: function(sName) {\r\n        if (!this[sName]) {\r\n            this[sName] = sap.ui.xmlfragment(\"ZHN_API_SCORES/braden/\" + sName, this);\r\n            _thatBS.getView().addDependent(this[sName]);\r\n        }\r\n        this[sName].open();\r\n    },\r\n\r\n    // close dialog\r\n    onDialogclose: function(oEvent) {\r\n        var sName = \"\";\r\n        if (typeof oEvent == \"object\")\r\n            sName = oEvent.getSource().getCustomData()[0].getValue();\r\n        else\r\n            sName = oEvent;\r\n        this[sName].destroy();\r\n        this[sName] = undefined;\r\n    \tvar eb = sap.ui.getCore().getEventBus();\r\n    \teb.publish(\"ZHN_API_SCORES\", \"ScoresSaveClose\", {});\r\n    },\r\n\r\n    // create braden dialog\r\n    initBradenCreateDiag: function() {\r\n        var thatBS = this;\r\n        thatBS.initBradenTotalScore();\r\n\r\n        var oSensoryPerceptionModel = new sap.ui.model.json.JSONModel({\r\n            \"SRCollection\": [{\r\n                \"Name\": \"Completely limited\",\r\n                \"Value\": \"1\"\r\n            }, {\r\n                \"Name\": \"Very limited\",\r\n                \"Value\": \"2\"\r\n            }, {\r\n                \"Name\": \"Slightly limited\",\r\n                \"Value\": \"3\"\r\n            }, {\r\n                \"Name\": \"No impairment\",\r\n                \"Value\": \"4\"\r\n            }]\r\n        });\r\n\r\n        var oMoistureModel = new sap.ui.model.json.JSONModel({\r\n            \"MoistureCollection\": [{\r\n                \"Name\": \"Constantly moist\",\r\n                \"Value\": \"1\"\r\n            }, {\r\n                \"Name\": \"Very moist\",\r\n                \"Value\": \"2\"\r\n            }, {\r\n                \"Name\": \"Ocasionally moist\",\r\n                \"Value\": \"3\"\r\n            }, {\r\n                \"Name\": \"Rarely moist\",\r\n                \"Value\": \"4\"\r\n            }]\r\n        });\r\n\r\n        var oActivityModel = new sap.ui.model.json.JSONModel({\r\n            \"ActivityCollection\": [{\r\n                \"Name\": \"Bed rest\",\r\n                \"Value\": \"1\"\r\n            }, {\r\n                \"Name\": \"Chairfast\",\r\n                \"Value\": \"2\"\r\n            }, {\r\n                \"Name\": \"Walks ocasionally\",\r\n                \"Value\": \"3\"\r\n            }, {\r\n                \"Name\": \"Walks\",\r\n                \"Value\": \"4\"\r\n            }]\r\n        });\r\n\r\n        var oMobilityModel = new sap.ui.model.json.JSONModel({\r\n            \"MobilityCollection\": [{\r\n                \"Name\": \"Completely immobile\",\r\n                \"Value\": \"1\"\r\n            }, {\r\n                \"Name\": \"Very limited\",\r\n                \"Value\": \"2\"\r\n            }, {\r\n                \"Name\": \"Slightly limited\",\r\n                \"Value\": \"3\"\r\n            }, {\r\n                \"Name\": \"No limitations\",\r\n                \"Value\": \"4\"\r\n            }]\r\n        });\r\n\r\n        var oNutritionModel = new sap.ui.model.json.JSONModel({\r\n            \"NutritionCollection\": [{\r\n                \"Name\": \"Very poor\",\r\n                \"Value\": \"1\"\r\n            }, {\r\n                \"Name\": \"Probably inadequate\",\r\n                \"Value\": \"2\"\r\n            }, {\r\n                \"Name\": \"Adequate\",\r\n                \"Value\": \"3\"\r\n            }, {\r\n                \"Name\": \"Excellent\",\r\n                \"Value\": \"4\"\r\n            }]\r\n        });\r\n\r\n        var oFrictionShearModel = new sap.ui.model.json.JSONModel({\r\n            \"FrictionShearCollection\": [{\r\n                \"Name\": \"Problem\",\r\n                \"Value\": \"1\"\r\n            }, {\r\n                \"Name\": \"Potential Problem\",\r\n                \"Value\": \"2\"\r\n            }, {\r\n                \"Name\": \"No appearent problem\",\r\n                \"Value\": \"3\"\r\n            }]\r\n        });\r\n\r\n        sap.ui.getCore().byId(\"API_BRADEN_SP_LIST\").setModel(oSensoryPerceptionModel, \"SensoryPerception\");\r\n        sap.ui.getCore().byId(\"API_BRADEN_MOI_LIST\").setModel(oMoistureModel, \"Moisture\");\r\n        sap.ui.getCore().byId(\"API_BRADEN_ACT_LIST\").setModel(oActivityModel, \"Activity\");\r\n        sap.ui.getCore().byId(\"API_BRADEN_MOB_LIST\").setModel(oMobilityModel, \"Mobility\");\r\n        sap.ui.getCore().byId(\"API_BRADEN_NUT_LIST\").setModel(oNutritionModel, \"Nutrition\");\r\n        sap.ui.getCore().byId(\"API_BRADEN_FS_LIST\").setModel(oFrictionShearModel, \"FrictionShear\");\r\n\r\n        if (_patient.DocumentNo) {\r\n        \tvar sPath = \"BscAleDetailHdrSet(DocumentNumber='\"+_patient.DocumentNo+\"',DocumentVersion='\"+_patient.DocumentVersion+\"',DocumentType='\"+_patient.DocumentType+\"',DocumentPart='\"+_patient.DocumantPart+\"')\";\r\n           // var sPath = \"BscAleDetailHdrSet?$filter= DocumentNumber eq '\" + _patient.DocumentNo + \"' and DocumentVersion eq '\" + _patient.DocumentVersion + \"' and DocumentType eq '\" + _patient.DocumentType + \"' and DocumentPart eq '\" + _patient.DocumantPart + \"'&$expand=BSCALEDETAILHDRTOITEM\";\r\n            thatBS.oModel.read(sPath, null, null, false, function(oData, oResponse) {\r\n                    thatBS.initBradenTotalScore();\r\n                    var selectedData = oData;\r\n                    thatBS.setSelectedDataToLists(selectedData);\r\n                    thatBS.setButtonsEnability();\r\n                },\r\n                function(oData, oResponse) {\r\n                    /* failed */\r\n                    var msg = oData.response.body;\r\n                    msg = JSON.parse(msg);\r\n                    msg = msg.error.message.value;\r\n                    sap.m.MessageBox.show(msg, {\r\n                        title: \"Alert\",\r\n                        icon: sap.m.MessageBox.Icon.ERROR,\r\n                        actions: [sap.m.MessageBox.Action.OK],\r\n                    });\r\n                });\r\n        } else {\r\n            if (_patient.Mode == \"E\") {\r\n                sap.ui.getCore().byId(\"API_BRADEN_RELEASE_BUTTON\").setVisible(true);\r\n                sap.ui.getCore().byId(\"API_BRADEN_SAVE_BUTTON\").setVisible(true);\r\n            }\r\n        }\r\n    },\r\n\r\n    //In edit and display mode, set selected data to lists\r\n    setSelectedDataToLists: function(selectedData) {\r\n        var score = sap.ui.getCore().byId(\"API_BRADEN_DIALOG\").getModel(\"ScoreModel\").getData().ScoreModel[0];\r\n        score[\"SensoryPerception\"].Value = selectedData.SensaryPerception;\r\n        score[\"Moisture\"].Value = selectedData.Moisture;\r\n        score[\"Activity\"].Value = selectedData.Activity;\r\n        score[\"Mobility\"].Value = selectedData.Mobility;\r\n        score[\"Nutrition\"].Value = selectedData.Nutriition;\r\n        score[\"FrictionShear\"].Value = selectedData.Friction;\r\n        score.TotalScore = selectedData.TotalScore;\r\n        var sensoryPerceptionList = sap.ui.getCore().byId(\"API_BRADEN_SP_LIST\");\r\n        for (var i = 0; i < sensoryPerceptionList.getModel(\"SensoryPerception\").getData().SRCollection.length; i++) {\r\n            if (selectedData.SensaryPerception == sensoryPerceptionList.getModel(\"SensoryPerception\").getData().SRCollection[i].Value) {\r\n                sensoryPerceptionList.setSelectedItem(sensoryPerceptionList.getItems()[i]);\r\n                score[\"SensoryPerception\"].Name = sensoryPerceptionList.getModel(\"SensoryPerception\").getData().SRCollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n\r\n        var moistureList = sap.ui.getCore().byId(\"API_BRADEN_MOI_LIST\");\r\n        for (var i = 0; i < moistureList.getModel(\"Moisture\").getData().MoistureCollection.length; i++) {\r\n            if (selectedData.Moisture == moistureList.getModel(\"Moisture\").getData().MoistureCollection[i].Value) {\r\n                moistureList.setSelectedItem(moistureList.getItems()[i]);\r\n                score[\"Moisture\"].Name = moistureList.getModel(\"Moisture\").getData().MoistureCollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n        var activityList = sap.ui.getCore().byId(\"API_BRADEN_ACT_LIST\");\r\n        for (var i = 0; i < activityList.getModel(\"Activity\").getData().ActivityCollection.length; i++) {\r\n            if (selectedData.Activity == activityList.getModel(\"Activity\").getData().ActivityCollection[i].Value) {\r\n                activityList.setSelectedItem(activityList.getItems()[i]);\r\n                score[\"Activity\"].Name = activityList.getModel(\"Activity\").getData().ActivityCollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n        var mobilitiyList = sap.ui.getCore().byId(\"API_BRADEN_MOB_LIST\");\r\n        for (var i = 0; i < mobilitiyList.getModel(\"Mobility\").getData().MobilityCollection.length; i++) {\r\n            if (selectedData.Mobility == mobilitiyList.getModel(\"Mobility\").getData().MobilityCollection[i].Value) {\r\n                mobilitiyList.setSelectedItem(mobilitiyList.getItems()[i]);\r\n                score[\"SensoryPerception\"].Name = mobilitiyList.getModel(\"Mobility\").getData().MobilityCollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n\r\n        var nutritionList = sap.ui.getCore().byId(\"API_BRADEN_NUT_LIST\");\r\n        for (var i = 0; i < nutritionList.getModel(\"Nutrition\").getData().NutritionCollection.length; i++) {\r\n            if (selectedData.Nutriition == nutritionList.getModel(\"Nutrition\").getData().NutritionCollection[i].Value) {\r\n                nutritionList.setSelectedItem(nutritionList.getItems()[i]);\r\n                score[\"Nutrition\"].Name = nutritionList.getModel(\"Nutrition\").getData().NutritionCollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n        var frictionShearList = sap.ui.getCore().byId(\"API_BRADEN_FS_LIST\"); /*\"{FrictionShear>/FrictionShearCollection}\"*/\r\n        for (var i = 0; i < frictionShearList.getModel(\"FrictionShear\").getData().FrictionShearCollection.length; i++) {\r\n            if (selectedData.Friction == frictionShearList.getModel(\"FrictionShear\").getData().FrictionShearCollection[i].Value) {\r\n                frictionShearList.setSelectedItem(frictionShearList.getItems()[i]);\r\n                score[\"FrictionShear\"].Name = frictionShearList.getModel(\"FrictionShear\").getData().FrictionShearCollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n        sap.ui.getCore().byId(\"API_BRADEN_DIALOG\").getModel(\"ScoreModel\").refresh(true);\r\n        sap.ui.getCore().byId(\"API_BRADEN_TOTAL\").setVisible(true);\r\n        sap.ui.getCore().byId(\"API_BRADEN_TOTAL\").setText(\"Total Score :\" + score.TotalScore  + \" (\" + ZHN_API_SCORES.utils.Formatter.getBradenInterpretation(parseInt(score.TotalScore)) + \")\");\r\n    },\r\n\r\n    // setting enablity of buttons based on mode \r\n    setButtonsEnability: function() {\r\n        var thatBS = this;\r\n        if (_patient.Mode == \"E\") {\r\n            thatBS.setListEnable();\r\n            if (_patient.Status == \"IW\") {\r\n                sap.ui.getCore().byId(\"API_BRADEN_RELEASE_BUTTON\").setVisible(true);\r\n                sap.ui.getCore().byId(\"API_BRADEN_SAVE_BUTTON\").setVisible(true);\r\n            } else {\r\n                sap.ui.getCore().byId(\"API_BRADEN_RELEASE_BUTTON\").setVisible(false);\r\n                sap.ui.getCore().byId(\"API_BRADEN_SAVE_BUTTON\").setVisible(false);\r\n            }\r\n        } else {\r\n            thatBS.setListDisable();\r\n            sap.ui.getCore().byId(\"API_BRADEN_RELEASE_BUTTON\").setVisible(false);\r\n            sap.ui.getCore().byId(\"API_BRADEN_SAVE_BUTTON\").setVisible(false);\r\n        }\r\n    },\r\n\r\n    // enable lists for edit mode\r\n    setListEnable: function(oEvent) {\r\n        var sensoryPerceptionList = sap.ui.getCore().byId(\"API_BRADEN_SP_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < sensoryPerceptionList.length; i++) {\r\n            sensoryPerceptionList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n        var moistureList = sap.ui.getCore().byId(\"API_BRADEN_MOI_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < moistureList.length; i++) {\r\n            moistureList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n        var activityList = sap.ui.getCore().byId(\"API_BRADEN_ACT_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < activityList.length; i++) {\r\n            activityList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n        var mobilitiyList = sap.ui.getCore().byId(\"API_BRADEN_MOB_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < mobilitiyList.length; i++) {\r\n            mobilitiyList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n        var nutritionList = sap.ui.getCore().byId(\"API_BRADEN_NUT_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < nutritionList.length; i++) {\r\n            nutritionList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n        var frictionShearList = sap.ui.getCore().byId(\"API_BRADEN_FS_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < frictionShearList.length; i++) {\r\n            frictionShearList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n    },\r\n\r\n    // disable lists for display mode\r\n    setListDisable: function(oEvent) {\r\n        var sensoryPerceptionList = sap.ui.getCore().byId(\"API_BRADEN_SP_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < sensoryPerceptionList.length; i++) {\r\n            sensoryPerceptionList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n        var moistureList = sap.ui.getCore().byId(\"API_BRADEN_MOI_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < moistureList.length; i++) {\r\n            moistureList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n        var activityList = sap.ui.getCore().byId(\"API_BRADEN_ACT_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < activityList.length; i++) {\r\n            activityList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n        var mobilitiyList = sap.ui.getCore().byId(\"API_BRADEN_MOB_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < mobilitiyList.length; i++) {\r\n            mobilitiyList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n        var nutritionList = sap.ui.getCore().byId(\"API_BRADEN_NUT_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < nutritionList.length; i++) {\r\n            nutritionList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n        var frictionShearList = sap.ui.getCore().byId(\"API_BRADEN_FS_LIST\").getAggregation(\"items\");\r\n        for (var i = 0; i < frictionShearList.length; i++) {\r\n            frictionShearList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n    },\r\n\r\n    // braden total score model initialisation\r\n    initBradenTotalScore: function() {\r\n        var oScoreModel = new sap.ui.model.json.JSONModel({\r\n            \"ScoreModel\": [{\r\n                \"TotalScore\": \"\",\r\n                \"SensoryPerception\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                },\r\n                \"Moisture\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                },\r\n                \"Activity\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                },\r\n                \"Mobility\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                },\r\n                \"Nutrition\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                },\r\n                \"FrictionShear\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                },\r\n            }]\r\n        });\r\n        sap.ui.getCore().byId(\"API_BRADEN_DIALOG\").setModel(oScoreModel, \"ScoreModel\");\r\n        sap.ui.getCore().byId(\"API_BRADEN_DIALOG\").bindElement(\"ScoreModel>/ScoreModel/0\");\r\n        sap.ui.getCore().byId(\"API_BRADEN_DIALOG\").getModel(\"ScoreModel\").refresh(true);\r\n        \r\n    },\r\n\r\n    // on change of list selection\r\n    onSelectionChange: function(oEvent) {\r\n        var thatBS = this;\r\n        var object;\r\n        var path = oEvent.getSource().getSelectedContextPaths()[0].split(\"/\");\r\n        var model = path[1];\r\n        switch (model) {\r\n            case \"SRCollection\":\r\n                object = sap.ui.getCore().byId(\"API_BRADEN_SP_LIST\").getModel(\"SensoryPerception\").getData().SRCollection[path[2]];\r\n                thatBS.modifyBradenTotalScore(\"SensoryPerception\", object);\r\n                break;\r\n            case \"MoistureCollection\":\r\n                object = sap.ui.getCore().byId(\"API_BRADEN_MOI_LIST\").getModel(\"Moisture\").getData().MoistureCollection[path[2]];\r\n                thatBS.modifyBradenTotalScore(\"Moisture\", object);\r\n                break;\r\n            case \"ActivityCollection\":\r\n                object = sap.ui.getCore().byId(\"API_BRADEN_ACT_LIST\").getModel(\"Activity\").getData().ActivityCollection[path[2]];\r\n                thatBS.modifyBradenTotalScore(\"Activity\", object);\r\n                break;\r\n            case \"MobilityCollection\":\r\n                object = sap.ui.getCore().byId(\"API_BRADEN_MOB_LIST\").getModel(\"Mobility\").getData().MobilityCollection[path[2]];\r\n                thatBS.modifyBradenTotalScore(\"Mobility\", object);\r\n                break;\r\n            case \"NutritionCollection\":\r\n                object = sap.ui.getCore().byId(\"API_BRADEN_NUT_LIST\").getModel(\"Nutrition\").getData().NutritionCollection[path[2]];\r\n                thatBS.modifyBradenTotalScore(\"Nutrition\", object);\r\n                break;\r\n            case \"FrictionShearCollection\":\r\n                object = sap.ui.getCore().byId(\"API_BRADEN_FS_LIST\").getModel(\"FrictionShear\").getData().FrictionShearCollection[path[2]];\r\n                thatBS.modifyBradenTotalScore(\"FrictionShear\", object);\r\n                break;\r\n        }\r\n    },\r\n\r\n    // total score\r\n    modifyBradenTotalScore: function(path, object) {\r\n        var score = sap.ui.getCore().byId(\"API_BRADEN_DIALOG\").getModel(\"ScoreModel\").getData().ScoreModel[0];\r\n        score[path].Name = object.Name;\r\n        score[path].Value = object.Value ? object.Value : \"\";\r\n        if (score.SensoryPerception.Value && score.Moisture.Value && score.Activity.Value && score.Mobility.Value && score.Nutrition.Value && score.FrictionShear.Value) {\r\n            score.TotalScore = (parseInt(score.SensoryPerception.Value) + parseInt(score.Moisture.Value) + parseInt(score.Activity.Value) + parseInt(score.Mobility.Value) + parseInt(score.Nutrition.Value) + parseInt(score.FrictionShear.Value)).toString();\r\n            sap.ui.getCore().byId(\"API_BRADEN_TOTAL\").setVisible(true);\r\n            sap.ui.getCore().byId(\"API_BRADEN_TOTAL\").setText(\"Total Score :\" + score.TotalScore + \" (\" + ZHN_API_SCORES.utils.Formatter.getBradenInterpretation(parseInt(score.TotalScore)) + \")\");\r\n        }\r\n        sap.ui.getCore().byId(\"API_BRADEN_DIALOG\").getModel(\"ScoreModel\").refresh(true);\r\n    },\r\n\r\n    // on save pressed\r\n    _handleAPIBradenSavePressed: function() {\r\n        var thatBS = this;\r\n        var score = sap.ui.getCore().byId(\"API_BRADEN_DIALOG\").getModel(\"ScoreModel\").getData().ScoreModel[0];\r\n        if (score.SensoryPerception.Value && score.Moisture.Value && score.Activity.Value && score.Mobility.Value && score.Nutrition.Value && score.FrictionShear.Value) {\r\n            var data = null;\r\n            var totalScoreAbrValue = null;\r\n            var totalScoreValue = score.TotalScore;\r\n            if (parseInt(totalScoreValue) <= 9) {\r\n                totalScoreAbrValue = \"Very high risk\";\r\n            } else if (parseInt(totalScoreValue) >= 10 && parseInt(totalScoreValue) <= 12) {\r\n                totalScoreAbrValue = \"High risk\";\r\n            } else if (parseInt(totalScoreValue) >= 13 && parseInt(totalScoreValue) <= 14) {\r\n                totalScoreAbrValue = \"Moderate risk\";\r\n            } else if (parseInt(totalScoreValue) >= 15 && parseInt(totalScoreValue) <= 18) {\r\n                totalScoreAbrValue = \"Mild risk\";\r\n            } else if (parseInt(totalScoreValue) >= 19) {\r\n                totalScoreAbrValue = \"No risk\";\r\n            }\r\n\r\n            data = {\r\n                DocumentType: _patient.DocumentType,\r\n                DocumentNumber: _patient.DocumentNo,\r\n                DocumentVersion: _patient.DocumentVersion,\r\n                DocumentPart: _patient.DocumantPart,\r\n                PatientName: _patient.PatientName,\r\n                PatientMrn: _patient.PatientId,\r\n                PatientSex: _patient.Sex,\r\n                PatientDob: _patient.Birthdate,\r\n                PatientDoctor: _patient.PatientDoctor,\r\n                PatientAge: _patient.Age,\r\n                PatientCasetype: _patient.CaseType,\r\n                PatientCaseno: _patient.CaseNo,\r\n                PmdPackage: \"\",\r\n                SensaryPerception: score.SensoryPerception.Value,\r\n                Moisture: score.Moisture.Value,\r\n                Activity: score.Activity.Value,\r\n                Mobility: score.Mobility.Value,\r\n                Nutriition: score.Nutrition.Value,\r\n                Friction: score.FrictionShear.Value,\r\n                TotalScore: totalScoreValue,\r\n                InterpetatScore: totalScoreAbrValue,\r\n                Institution: \"RFH1\",\r\n                DepartmentOu: _patient.DeptOu,\r\n                EmployeeResp: \"\",\r\n                Mode: \"\",\r\n            };\r\n\r\n            if (_patient.DocumentNo && _patient.Mode == \"E\") {\r\n                data.Mode = \"U\";\r\n            } else {\r\n                data.Mode = \"C\";\r\n            }\r\n\r\n            thatBS.oModel.update(\"/BscAleDetailHdrSet(DocumentNumber='\"+_patient.DocumentNo+\"',DocumentVersion='\"+_patient.DocumentVersion+\"',DocumentType='\"+_patient.DocumentType+\"',DocumentPart='\"+_patient.DocumantPart+\"')\", data, null, function(oData, oResponse) {\r\n                thatBS[\"BradenCreate\"].destroy();\r\n                sap.m.MessageToast.show(oResponse.headers[\"sap-message\"]);\r\n               \r\n                if (thatBS.bradenDirectRelease) {\r\n                    var docNumber = oResponse.headers[\"sap-message\"].split(\" \")[2];\r\n                    var data = {\r\n                        \"DocumentNumber\": docNumber,\r\n                        \"DocumentType\": _patient.DocumentType ? _patient.DocumentType : \"MED\",\r\n                        \"DocumentVersion\": _patient.DocumentVersion ? _patient.DocumentVersion : \"00\",\r\n                        \"DocumentPart\": _patient.DocumantPart ? _patient.DocumantPart : \"000\"\r\n                    };\r\n                    thatBS.oModel.update(\"PmdReleaseSet('\" + docNumber + \"')\", data, null, function(oData, oResponse) {\r\n                    \t thatBS.bradenDirectRelease = false;\r\n                         sap.m.MessageToast.show(oResponse.headers[\"sap-message\"]);\r\n                    \tvar eb = sap.ui.getCore().getEventBus();\r\n                            var returnData = {\r\n                                    \"DocumentNumber\": docNumber,\r\n                                    \"DocumentType\": _patient.DocumentType,\r\n                                    \"DocumentVersion\": _patient.DocumentVersion,\r\n                                    \"DocumentPart\": _patient.DocumantPart,\r\n                                    \"TotalScore\": totalScoreValue,\r\n                                    \"Interpretation\": totalScoreAbrValue\r\n                                };\r\n                            eb.publish(\"ZHN_API_SCORES\", \"BradenRelease\", returnData);\r\n                        },\r\n                        function(oData, oResponse) {\r\n                            thatBS.bradenDirectRelease = false;\r\n                            var msg = oData.response.body;\r\n                            msg = JSON.parse(msg);\r\n                            msg = msg.error.message.value;\r\n                            sap.m.MessageBox.show(msg, {\r\n                                title: \"Alert\",\r\n                                icon: sap.m.MessageBox.Icon.ERROR,\r\n                                actions: [sap.m.MessageBox.Action.OK],\r\n                            });\r\n                        });\r\n                }else{\r\n                \tvar eb = sap.ui.getCore().getEventBus();\r\n                \teb.publish(\"ZHN_API_SCORES\", \"ScoresSaveClose\", {});\r\n                }\r\n            }, function(oData, oResponse) {\r\n                /* failed */\r\n                var msg = oData.response.body;\r\n                msg = JSON.parse(msg);\r\n                msg = msg.error.message.value;\r\n                sap.m.MessageBox.show(msg, {\r\n                    title: \"Alert\",\r\n                    icon: sap.m.MessageBox.Icon.ERROR,\r\n                    actions: [sap.m.MessageBox.Action.OK],\r\n                });\r\n            });\r\n        } else {\r\n            sap.m.MessageToast.show(\"Please enter all the scores before saving.\");\r\n        }\r\n    },\r\n\r\n    //on release pressed\r\n    _handleAPIBradenReleasePressed: function() {\r\n        var thatBS = this;\r\n        thatBS.bradenDirectRelease = true;\r\n        thatBS._handleAPIBradenSavePressed();\r\n        thatBS.bradenDirectRelease = false;\r\n    }\r\n});",
		"ZHN_API_SCORES/glasgowComa/GlasgowComaCreate.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\"\r\n\txmlns:core=\"sap.ui.core\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\"\r\n\txmlns:app=\"http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1\">\r\n\t<Dialog showHeader=\"false\" class=\"sapUiSizeCompact\" width=\"100%\"\r\n\t\tid=\"API_GLASSGOW_COMA_DIALOG\">\r\n\t\t<subHeader>\r\n\t\t\t<Bar>\r\n\t\t\t\t<contentMiddle>\r\n\t\t\t\t\t<Label text=\"Glasgow Coma Score\" design=\"Bold\" />\r\n\t\t\t\t</contentMiddle>\r\n\t\t\t\t<contentRight>\r\n\t\t\t\t\t<Button id=\"API_GLASSGOW_COMA_TOTAL\" type=\"Emphasized\" visible=\"false\"/>\r\n\t\t\t\t</contentRight>\r\n\t\t\t</Bar>\r\n\r\n\t\t</subHeader>\r\n\t\t<content>\r\n\t\t\t<l:Grid defaultSpan=\"L4 M4 S12\" width=\"auto\"\r\n\t\t\t\t\t\t\tposition=\"Center\" vSpacing=\"10px\">\r\n\t\t\t\t\t\t\t<l:content>\r\n\t\t\t\t\t\t\t\t<Table id=\"API_GCS_MR_LIST\" items=\"{MR>/MRCollection}\"\r\n\t\t\t\t\t\t\t\t\tselectionChange=\"onSelectionChange\"\r\n\t\t\t\t\t\t\t\t\theaderText=\"Best Motor Response ({ScoreModel>BestMotorResponse/Value})\"\r\n\t\t\t\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{MR>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{MR>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t\t<Table id=\"API_GCS_VR_LIST\" items=\"{VR>/VRCollection}\"\r\n\t\t\t\t\t\t\t\t\tselectionChange=\"onSelectionChange\"\r\n\t\t\t\t\t\t\t\t\theaderText=\"Best Verbal Response ({ScoreModel>BestVerbalResponse/Value})\"\r\n\t\t\t\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{VR>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{VR>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t\t<Table id=\"API_GCS_EO_LIST\" items=\"{EO>/EOCollection}\"\r\n\t\t\t\t\t\t\t\t\tselectionChange=\"onSelectionChange\"\r\n\t\t\t\t\t\t\t\t\theaderText=\"Eye Opening ({ScoreModel>EyeOpening/Value})\"\r\n\t\t\t\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{EO>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{EO>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t</l:content>\r\n\t\t\t\t\t\t</l:Grid>\r\n\t\t</content>\r\n\t\t<buttons>\r\n\r\n\t\t\t<Button text=\"Release\" press=\"_handleAPIGCSReleasePressed\" id=\"API_GCS_RELEASE_BUTTON\"\r\n\t\t\t\tapp:dialogType=\"GlasgowComaCreate\" />\r\n\t\t\t<Button text=\"Save\" type=\"Accept\" press=\"_handleAPIGCSSavePressed\" id=\"API_GCS_SAVE_BUTTON\"\r\n\t\t\t\tapp:dialogType=\"GlasgowComaCreate\" />\r\n\t\t\t<Button text=\"Cancel\" type=\"Reject\" press=\"onDialogclose\"\r\n\t\t\t\tapp:dialogType=\"GlasgowComaCreate\" />\r\n\t\t</buttons>\r\n\t</Dialog>\r\n</core:FragmentDefinition>",
		"ZHN_API_SCORES/braden/BradenCreate.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\"\r\n\txmlns:core=\"sap.ui.core\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\"\r\n\txmlns:app=\"http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1\">\r\n\t<Dialog showHeader=\"false\" class=\"sapUiSizeCompact\" width=\"100%\"\r\n\t\tid=\"API_BRADEN_DIALOG\">\r\n\t\t<subHeader>\r\n\t\t\t<Bar>\r\n\t\t\t\t<contentMiddle>\r\n\t\t\t\t\t<Label text=\"Braden Score\" design=\"Bold\" />\r\n\t\t\t\t</contentMiddle>\r\n\t\t\t\t<contentRight>\r\n\t\t\t\t\t<Button id=\"API_BRADEN_TOTAL\" type=\"Emphasized\" visible=\"false\"/>\r\n\t\t\t\t</contentRight>\r\n\t\t\t</Bar>\r\n\t\t</subHeader>\r\n\t\t<content>\r\n\t\t\t<l:Grid defaultSpan=\"L4 M4 S12\" width=\"auto\" position=\"Center\"\r\n\t\t\t\tvSpacing=\"10px\">\r\n\t\t\t\t<l:content>\r\n\t\t\t\t\t<Table id=\"API_BRADEN_SP_LIST\" items=\"{SensoryPerception>/SRCollection}\"\r\n\t\t\t\t\t\tselectionChange=\"onSelectionChange\"\r\n\t\t\t\t\t\theaderText=\"Sensory Preception ({ScoreModel>SensoryPerception/Value})\"\r\n\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t</columns>\r\n\r\n\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t<Text text=\"{SensoryPerception>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t<Text text=\"{SensoryPerception>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t\t<Table id=\"API_BRADEN_MOI_LIST\" items=\"{Moisture>/MoistureCollection}\"\r\n\t\t\t\t\t\tselectionChange=\"onSelectionChange\" headerText=\"Moisture ({ScoreModel>Moisture/Value})\"\r\n\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t<Text text=\"{Moisture>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t<Text text=\"{Moisture>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t\t<Table id=\"API_BRADEN_ACT_LIST\" items=\"{Activity>/ActivityCollection}\"\r\n\t\t\t\t\t\tselectionChange=\"onSelectionChange\" headerText=\"Activity ({ScoreModel>Activity/Value})\"\r\n\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t<Text text=\"{Activity>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t<Text text=\"{Activity>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</l:content>\r\n\t\t\t</l:Grid>\r\n\t\t\t<l:Grid defaultSpan=\"L4 M4 S12\" width=\"auto\" position=\"Center\"\r\n\t\t\t\tvSpacing=\"10px\">\r\n\t\t\t\t<l:content>\r\n\t\t\t\t\t<Table id=\"API_BRADEN_MOB_LIST\" items=\"{Mobility>/MobilityCollection}\"\r\n\t\t\t\t\t\tselectionChange=\"onSelectionChange\" headerText=\"Mobility ({ScoreModel>Mobility/Value})\"\r\n\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t<Text text=\"{Mobility>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t<Text text=\"{Mobility>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t\t<Table id=\"API_BRADEN_NUT_LIST\" items=\"{Nutrition>/NutritionCollection}\"\r\n\t\t\t\t\t\tselectionChange=\"onSelectionChange\" headerText=\"Nutrition ({ScoreModel>Nutrition/Value})\"\r\n\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t<Text text=\"{Nutrition>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t<Text text=\"{Nutrition>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t\t<Table id=\"API_BRADEN_FS_LIST\" items=\"{FrictionShear>/FrictionShearCollection}\"\r\n\t\t\t\t\t\tselectionChange=\"onSelectionChange\"\r\n\t\t\t\t\t\theaderText=\"Friction Shear ({ScoreModel>FrictionShear/Value})\"\r\n\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t<Text text=\"{FrictionShear>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t<Text text=\"{FrictionShear>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</l:content>\r\n\t\t\t</l:Grid>\r\n\t\t</content>\r\n\t\t<buttons>\r\n\r\n\t\t\t<Button text=\"Release\" press=\"_handleAPIBradenReleasePressed\" id=\"API_BRADEN_RELEASE_BUTTON\"\r\n\t\t\t\tapp:dialogType=\"BradenCreate\" />\r\n\t\t\t<Button text=\"Save\" type=\"Accept\" press=\"_handleAPIBradenSavePressed\" id=\"API_BRADEN_SAVE_BUTTON\"\r\n\t\t\t\tapp:dialogType=\"BradenCreate\" />\r\n\t\t\t<Button text=\"Cancel\" type=\"Reject\" press=\"onDialogclose\"\r\n\t\t\t\tapp:dialogType=\"BradenCreate\" />\r\n\t\t</buttons>\r\n\t</Dialog>\r\n</core:FragmentDefinition>",
		"ZHN_API_SCORES/painScale/PainScaleCreate.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\"\r\n\txmlns:core=\"sap.ui.core\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\"\r\n\txmlns:app=\"http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1\">\r\n\t<Dialog showHeader=\"false\" class=\"sapUiSizeCompact\" width=\"100%\"\r\n\t\tid=\"API_PAIN_SCALE_DIALOG\">\r\n\t\t<subHeader>\r\n\t\t\t<Bar>\r\n\t\t\t\t<contentMiddle>\r\n\t\t\t\t\t<Label text=\"Pain Scale\" design=\"Bold\" />\r\n\t\t\t\t</contentMiddle>\r\n\t\t\t\t<contentRight>\r\n\t\t\t\t\t<Text id=\"API_PAIN_SCALE_TOTAL\" design=\"Bold\" />\r\n\t\t\t\t</contentRight>\r\n\t\t\t</Bar>\r\n\r\n\t\t</subHeader>\r\n\t\t<content>\r\n\t\t<Toolbar>\r\n\t\t\t\t\t\t\t<ToolbarSpacer />\r\n\t\t\t\t\t\t\t<Text text=\"Scale Type : \" />\r\n\t\t\t\t\t\t\t<ComboBox id=\"API_SCALE_TYPE_COMBO\" selectionChange=\"onScaleTypeChange\">\r\n\t\t\t\t\t\t\t\t<core:Item key=\"1\" text=\"Face Scale\" />\r\n\t\t\t\t\t\t\t\t<core:Item key=\"2\" text=\"Behavioral Pain Scale\" />\r\n\t\t\t\t\t\t\t\t<core:Item key=\"3\" text=\"FLACC Scale\" />\r\n\t\t\t\t\t\t\t\t<core:Item key=\"4\" text=\"Neonatal Infant Pain Scale\" />\r\n\t\t\t\t\t\t\t</ComboBox>\r\n\t\t\t\t\t\t\t<ToolbarSpacer />\r\n\t\t\t\t\t\t</Toolbar>\r\n\t\t\t<Panel id=\"API_FACE_SCALE_PANEL\" expandable=\"false\" expanded=\"true\">\r\n\t\t\t\t\t\t\t<content>\r\n\t\t\t\t\t\t\t\t<l:Grid defaultSpan=\"L4 M4 S12\" width=\"auto\" position=\"Center\"\r\n\t\t\t\t\t\t\t\t\tvSpacing=\"10px\">\r\n\t\t\t\t\t\t\t\t\t<l:content>\r\n\t\t\t\t\t\t\t\t\t\t<Table id=\"API_PAIN_SCALE_FC_TABLE\" items=\"{FS>/FaceScale}\"\r\n\t\t\t\t\t\t\t\t\t\t\tselectionChange=\"onFaceScaleScoreSelectionChange\" headerText=\"\"\r\n\t\t\t\t\t\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column hAlign=\"Left\" width=\"40px\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column width=\"40px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Image src=\"{FS>image}\" width=\"35px\" height=\"35px\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{FS>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{FS>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t\t\t</l:content>\r\n\t\t\t\t\t\t\t\t</l:Grid>\r\n\t\t\t\t\t\t\t</content>\r\n\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t\t<Panel id=\"API_BPS_PANEL\" expandable=\"false\" expanded=\"true\">\r\n\t\t\t\t\t\t\t<content>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<l:Grid defaultSpan=\"L4 M4 S12\" width=\"auto\" position=\"Center\"\r\n\t\t\t\t\t\t\t\t\tvSpacing=\"10px\">\r\n\t\t\t\t\t\t\t\t\t<l:content>\r\n\t\t\t\t\t\t\t\t\t\t<Table id=\"API_PAIN_SCALE_BMR_TABLE\" items=\"{MR>/MRCollection}\"\r\n\t\t\t\t\t\t\t\t\t\t\tselectionChange=\"onBPScaleSelectionChange\"\r\n\t\t\t\t\t\t\t\t\t\t\theaderText=\"Facial Expression ({ScoreModelBPS>BestMotorResponse/Value})\"\r\n\t\t\t\t\t\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{MR>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{MR>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t\t\t\t<Table id=\"API_PAIN_SCALE_BVR_TABLE\" items=\"{VR>/VRCollection}\"\r\n\t\t\t\t\t\t\t\t\t\t\tselectionChange=\"onBPScaleSelectionChange\"\r\n\t\t\t\t\t\t\t\t\t\t\theaderText=\"Upper Limb Movements ({ScoreModelBPS>BestVerbalResponse/Value})\"\r\n\t\t\t\t\t\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{VR>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{VR>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t\t\t\t<Table id=\"API_PAIN_SCALE_EO_TABLE\" items=\"{EO>/EOCollection}\"\r\n\t\t\t\t\t\t\t\t\t\t\tselectionChange=\"onBPScaleSelectionChange\"\r\n\t\t\t\t\t\t\t\t\t\t\theaderText=\"Compliance with mechanical ventilation ({ScoreModelBPS>EyeOpening/Value})\"\r\n\t\t\t\t\t\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{EO>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{EO>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t\t\t</l:content>\r\n\t\t\t\t\t\t\t\t</l:Grid>\r\n\t\t\t\t\t\t\t</content>\r\n\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t\t<Panel id=\"API_FLACC_SCALE_PANEL\" expandable=\"false\" expanded=\"true\">\r\n\t\t\t\t\t\t\t<content>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<l:Grid defaultSpan=\"L4 M4 S12\" width=\"auto\" position=\"Center\"\r\n\t\t\t\t\t\t\t\t\tvSpacing=\"10px\">\r\n\t\t\t\t\t\t\t\t\t<l:content>\r\n\t\t\t\t\t\t\t\t\t\t<Table id=\"API_PAIN_SCALE_FLACC_FACE_TABLE\" items=\"{FLACCFACE>/FLACCFaceCollection}\"\r\n\t\t\t\t\t\t\t\t\t\t\tselectionChange=\"onFLACCScaleSelectionChange\"\r\n\t\t\t\t\t\t\t\t\t\t\theaderText=\"Face ({FLACCScaleScoreModel>Face/Value})\"\r\n\t\t\t\t\t\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{FLACCFACE>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{FLACCFACE>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t\t\t\t<Table id=\"API_PAIN_SCALE_FLACC_LEGS_TABLE\" items=\"{FLACCLEGS>/FLACCLegsCollection}\"\r\n\t\t\t\t\t\t\t\t\t\t\tselectionChange=\"onFLACCScaleSelectionChange\"\r\n\t\t\t\t\t\t\t\t\t\t\theaderText=\"Legs ({FLACCScaleScoreModel>Legs/Value})\"\r\n\t\t\t\t\t\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{FLACCLEGS>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{FLACCLEGS>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t\t\t\t<Table id=\"API_PAIN_SCALE_FLACC_ACTIVITY_TABLE\" items=\"{FLACCACTIVITY>/FLACCActivityCollection}\"\r\n\t\t\t\t\t\t\t\t\t\t\tselectionChange=\"onFLACCScaleSelectionChange\"\r\n\t\t\t\t\t\t\t\t\t\t\theaderText=\"Activity ({FLACCScaleScoreModel>Activity/Value})\"\r\n\t\t\t\t\t\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{FLACCACTIVITY>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{FLACCACTIVITY>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t\t\t</l:content>\r\n\t\t\t\t\t\t\t\t</l:Grid>\r\n\t\t\t\t\t\t\t\t<l:Grid defaultSpan=\"L4 M4 S12\" width=\"auto\" position=\"Center\"\r\n\t\t\t\t\t\t\t\t\tvSpacing=\"10px\">\r\n\t\t\t\t\t\t\t\t\t<l:content>\r\n\t\t\t\t\t\t\t\t\t\t<Table id=\"API_PAIN_SCALE_FLACC_CRY_TABLE\" items=\"{FLACCCRY>/FLACCCryCollection}\"\r\n\t\t\t\t\t\t\t\t\t\t\tselectionChange=\"onFLACCScaleSelectionChange\"\r\n\t\t\t\t\t\t\t\t\t\t\theaderText=\"Cry ({FLACCScaleScoreModel>Cry/Value})\"\r\n\t\t\t\t\t\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{FLACCCRY>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{FLACCCRY>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t\t\t\t<Table id=\"API_PAIN_SCALE_FLACC_CONSOLABILITY_TABLE\"\r\n\t\t\t\t\t\t\t\t\t\t\titems=\"{FLACCCONSOLABILITY>/FLACCConsolabilityCollection}\"\r\n\t\t\t\t\t\t\t\t\t\t\tselectionChange=\"onFLACCScaleSelectionChange\"\r\n\t\t\t\t\t\t\t\t\t\t\theaderText=\"Consolability ({FLACCScaleScoreModel>Consolability/Value})\"\r\n\t\t\t\t\t\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{FLACCCONSOLABILITY>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{FLACCCONSOLABILITY>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t\t\t</l:content>\r\n\t\t\t\t\t\t\t\t</l:Grid>\r\n\t\t\t\t\t\t\t</content>\r\n\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t\t<Panel id=\"API_NIP_SCALE_PANEL\" expandable=\"false\" expanded=\"true\">\r\n\t\t\t\t\t\t\t<content>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<l:Grid defaultSpan=\"L4 M4 S12\" width=\"auto\" position=\"Center\"\r\n\t\t\t\t\t\t\t\t\tvSpacing=\"10px\">\r\n\t\t\t\t\t\t\t\t\t<l:content>\r\n\t\t\t\t\t\t\t\t\t\t<Table id=\"API_PAIN_SCALE_NIP_FACIAL_EXPRESSION_TABLE\"\r\n\t\t\t\t\t\t\t\t\t\t\titems=\"{NIPFACIALEXPRS>/NIPFacialexpressionCollection}\"\r\n\t\t\t\t\t\t\t\t\t\t\tselectionChange=\"onNIPScaleSelectionChange\"\r\n\t\t\t\t\t\t\t\t\t\t\theaderText=\"Facial Expression ({NIPScaleScoreModel>FacialExpression/Value})\"\r\n\t\t\t\t\t\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{NIPFACIALEXPRS>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{NIPFACIALEXPRS>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t\t\t\t<Table id=\"API_PAIN_SCALE_NIP_BREATHING_PATTERN_TABLE\"\r\n\t\t\t\t\t\t\t\t\t\t\titems=\"{NIPBRTHNGPATRN>/NIPBreathingPatternCollection}\"\r\n\t\t\t\t\t\t\t\t\t\t\tselectionChange=\"onNIPScaleSelectionChange\"\r\n\t\t\t\t\t\t\t\t\t\t\theaderText=\"Breathing Pattern ({NIPScaleScoreModel>BreathingPattern/Value})\"\r\n\t\t\t\t\t\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{NIPBRTHNGPATRN>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{NIPBRTHNGPATRN>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t\t\t\t<Table id=\"API_PAIN_SCALE_NIP_ARMS_TABLE\" items=\"{NIPARMS>/NIPArmsCollection}\"\r\n\t\t\t\t\t\t\t\t\t\t\tselectionChange=\"onNIPScaleSelectionChange\"\r\n\t\t\t\t\t\t\t\t\t\t\theaderText=\"Arms ({NIPScaleScoreModel>Arms/Value})\"\r\n\t\t\t\t\t\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{NIPARMS>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{NIPARMS>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t\t\t</l:content>\r\n\t\t\t\t\t\t\t\t</l:Grid>\r\n\t\t\t\t\t\t\t\t<l:Grid defaultSpan=\"L4 M4 S12\" width=\"auto\" position=\"Center\"\r\n\t\t\t\t\t\t\t\t\tvSpacing=\"10px\">\r\n\t\t\t\t\t\t\t\t\t<l:content>\r\n\t\t\t\t\t\t\t\t\t\t<Table id=\"API_PAIN_SCALE_NIP_LEGS_TABLE\" items=\"{NIPLEGS>/NIPLegsCollection}\"\r\n\t\t\t\t\t\t\t\t\t\t\tselectionChange=\"onNIPScaleSelectionChange\"\r\n\t\t\t\t\t\t\t\t\t\t\theaderText=\"Legs ({NIPScaleScoreModel>Legs/Value})\"\r\n\t\t\t\t\t\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{NIPLEGS>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{NIPLEGS>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t\t\t\t<Table id=\"API_PAIN_SCALE_NIP_STATE_OF_AROUSAL_TABLE\"\r\n\t\t\t\t\t\t\t\t\t\t\titems=\"{NIPSATEOFARSL>/NIPStateofArousalCollection}\"\r\n\t\t\t\t\t\t\t\t\t\t\tselectionChange=\"onNIPScaleSelectionChange\"\r\n\t\t\t\t\t\t\t\t\t\t\theaderText=\"State Of Arousal ({NIPScaleScoreModel>StateofArousal/Value})\"\r\n\t\t\t\t\t\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{NIPSATEOFARSL>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{NIPSATEOFARSL>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t\t\t\t<Table id=\"API_PAIN_SCALE_NIP_CRY_TABLE\" items=\"{NIPCRY>/NIPCryCollection}\"\r\n\t\t\t\t\t\t\t\t\t\t\tselectionChange=\"onNIPScaleSelectionChange\"\r\n\t\t\t\t\t\t\t\t\t\t\theaderText=\"Cry ({NIPScaleScoreModel>Cry/Value})\"\r\n\t\t\t\t\t\t\t\t\t\t\twrapping=\"true\" includeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Column width=\"10px\" hAlign=\"Left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{NIPCRY>Name}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{NIPCRY>Value}\" class=\"numberUnit\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t\t\t</l:content>\r\n\t\t\t\t\t\t\t\t</l:Grid>\r\n\t\t\t\t\t\t\t</content>\r\n\t\t\t\t\t\t</Panel>\r\n\t\t</content>\r\n\t\t<buttons>\r\n\r\n\t\t\t<Button text=\"Release\" press=\"_handleAPIPainScaleReleasePressed\" id=\"API_PAINSCALE_RELEASE_BUTTON\"\r\n\t\t\t\tapp:dialogType=\"PainScaleCreate\" />\r\n\t\t\t<Button text=\"Save\" type=\"Accept\" press=\"_handleAPIPainScaleSavePressed\" id=\"API_PAINSCALE_SAVE_BUTTON\"\r\n\t\t\t\tapp:dialogType=\"PainScaleCreate\" />\r\n\t\t\t<Button text=\"Cancel\" type=\"Reject\" press=\"onDialogclose\"\r\n\t\t\t\tapp:dialogType=\"PainScaleCreate\" />\r\n\t\t</buttons>\r\n\t</Dialog>\r\n</core:FragmentDefinition>",
		"ZHN_API_SCORES/utils/Formatter.js": "jQuery.sap.declare(\"ZHN_API_SCORES.utils.Formatter\");\r\njQuery.sap.require(\"sap.ca.ui.model.format.DateFormat\");\r\nZHN_API_SCORES.utils.Formatter =  {\r\n\t\t\r\n\t\t\t\t//get braden interpretation\r\n\t\t\t\tgetBradenInterpretation : function(oValue){\r\n\t\t\t\t\tif(oValue){\r\n\t\t\t\t\t\tif(oValue <= 9){\r\n\t\t\t\t\t\t\treturn \"Very high risk\";\r\n\t\t\t\t\t\t}else if (oValue >= 10 && oValue <= 12) {\r\n\t\t\t                return \"High risk\";\r\n\t\t\t            } else if (oValue >= 13 && oValue <= 14) {\r\n\t\t\t                return \"Moderate risk\";\r\n\t\t\t            } else if (oValue >= 15 && oValue <= 18) {\r\n\t\t\t                return \"Mild risk\";\r\n\t\t\t            } else if (oValue >= 19) {\r\n\t\t\t                return \"No risk\";\r\n\t\t\t            }\r\n\t\t\t\t\t}else{\r\n                  \t  return \"\";\r\n                    }\r\n\t\t\t\t},\r\n\t\t\t\t\r\n\t\t\t\t// get FRA interpretation\r\n\t\t\t\tgetFRAInterpretation : function(oValue){\r\n\t\t\t\t\tif(oValue){\r\n\t\t\t\t\t\t if (oValue <= 5) {\r\n\t\t\t                   return \"Low Risk\";\r\n\t\t\t                } else if (oValue >= 6 && oValue <= 13) {\r\n\t\t\t                   return \"Moderate Risk\";\r\n\t\t\t                } else if (oValue >= 14) {\r\n\t\t\t                   return \"High Risk\";\r\n\t\t\t                }\r\n\t\t\t\t\t}else{\r\n                  \t  return \"\";\r\n                    }\r\n\t\t\t\t},\r\n\t\t\t\t\r\n\t\t\t\t// get GCS interpretation\r\n\t\t\t\tgetGCSInterpretation : function(oValue){\r\n\t\t\t\t\tif(oValue){\r\n\t\t\t\t\t\t if (oValue < 9) {\r\n\t\t\t\t                return \"Severe\";\r\n\t\t\t\t            } else if (oValue >= 9 || oValue < 13) {\r\n\t\t\t\t                return \"Moderate\";\r\n\t\t\t\t            } else if (oValue >= 13) {\r\n\t\t\t\t                return \"Minor\";\r\n\t\t\t\t            }\r\n\t\t\t\t\t}else{\r\n                  \t  return \"\";\r\n                    }\r\n\t\t\t\t},\r\n\t\t\t\t\r\n\t\t\t\t// pain scale for bps\r\n                getBPSInterpretation : function(oValue){\r\n                       if(oValue){\r\n                              if (oValue <= 3) {\r\n                          return \"- No pain\";\r\n                      } else if (oValue >= 4 && oValue <= 6) {\r\n                          return \"- Mid pain\";\r\n                      } else if (oValue >= 7 && oValue <= 9) {\r\n                          return \"- Moderate pain\";\r\n                      } else if (oValue > 9) {\r\n                          return \"- Sever pain\";\r\n                      }\r\n                       }else{\r\n                     \t  return \"\";\r\n                       }\r\n                },\r\n                \r\n                // pain scale for flacc\r\n                getFLACCInterpretation : function(oValue){\r\n                       if(oValue){\r\n                              if (oValue == 0) {\r\n                          return \"- Relaxed and comfortable\";\r\n                      } else if (oValue >= 1 && oValue <= 3) {\r\n                          return \"- Mild Discomfort\";\r\n                      } else if (oValue >= 4 && oValue <= 6) {\r\n                          return \"- Moderate Pain\";\r\n                      } else if (oValue >= 7) {\r\n                          return \"- Sever Discomfort Pain\";\r\n                      }\r\n                       }else{\r\n                     \t  return \"\";\r\n                       }\r\n                \r\n                },\r\n                \r\n                // pain scale for flacc\r\n                getNIPInterpretation : function(oValue){\r\n                       if(oValue){\r\n                              if (oValue == 0) {\r\n                                return \"- No pain\";\r\n                            } else if (oValue >= 1 && oValue <= 2) {\r\n                                return \"- Mild Discomfort\";\r\n                            } else if (oValue >= 3 && oValue <= 4) {\r\n                                return \"- Mild to moderate pain\";\r\n                            } else if (oValue >= 5) {\r\n                                return \"- Moderate to sever pain\";\r\n                            }\r\n                       }else{\r\n                       \t  return \"\";\r\n                       }\r\n                \r\n                }\r\n\r\n\t\t\t\t\t}",
		"ZHN_API_SCORES/vip/VIP.js": "jQuery.sap.declare(\"ZHN_API_SCORES.vip.VIP\");\r\njQuery.sap.require(\"sap.ui.core.Component\");\r\njQuery.sap.require(\"ZHN_API_SCORES.utils.Formatter\");\r\nsap.ui.core.Component.extend(\"ZHN_API_SCORES.vip.VIP\", {\r\n\r\n    initVIP: function(that, patient) {\r\n        _thatVIP = that;\r\n        _patient = patient;\r\n        /*{  Institution: \"RFH1\",\r\n                PatientId: \"10005132\",\r\n                CaseNo: \"1000010460\",\r\n                PatientName: \"Test Deepakradio\",\r\n                Sex:\"Female\",\r\n                Birthdate:\"/Date(-97977600000)/\",\r\n                PatientDoctor:\"Preeti Chhabria\",\r\n                Age:\"49 years\",\r\n                CaseType:\"1\",\r\n                DeptOu:\"1ANAES\",\r\n                Status:\"\",\r\n                DocumentNo :\"\",\r\n                DocumentType :\"\",\r\n                DocumentVersion :\"\",\r\n                DocumantPart : \"\",\r\n                Mode : \"E\"\r\n\t    }*/\r\n\r\n        var _proxy = \"\" ;\r\n        //var _proxy = \"proxy/http/devnwngd.ril.com:8000\";\r\n        // Initialize service model\r\n        var serviceUrl = _proxy + \"/sap/opu/odata/sap/Z_FIORI_SCORES_PMD_SRV\";\r\n        this.oModel = new sap.ui.model.odata.ODataModel(serviceUrl, true);\r\n\r\n        this.openDialog(\"VIPCreate\");\r\n        this.initVIPCreateDiag();\r\n    },\r\n\r\n    // open dialog\r\n    openDialog: function(sName) {\r\n        if (!this[sName]) {\r\n            this[sName] = sap.ui.xmlfragment(\"ZHN_API_SCORES/vip/\" + sName, this);\r\n            _thatVIP.getView().addDependent(this[sName]);\r\n        }\r\n        this[sName].open();\r\n    },\r\n\r\n    // close dialog\r\n    onDialogclose: function(oEvent) {\r\n        var sName = \"\";\r\n        if (typeof oEvent == \"object\")\r\n            sName = oEvent.getSource().getCustomData()[0].getValue();\r\n        else\r\n            sName = oEvent;\r\n        this[sName].destroy();\r\n        this[sName] = undefined;\r\n    \tvar eb = sap.ui.getCore().getEventBus();\r\n    \teb.publish(\"ZHN_API_SCORES\", \"ScoresSaveClose\", {});\r\n    },\r\n\r\n    // create vip dialog\r\n    initVIPCreateDiag: function() {\r\n        var thatVIP = this;\r\n        var oVIPModel = new sap.ui.model.json.JSONModel({\r\n            \"VIPData\": [{\r\n                \"Information\": \"IV site appears healty\",\r\n                \"Interpretation\": \"No sign of Phlebitis\",\r\n                \"Intervention\": \"Observe cannula\",\r\n                \"Value\": \"0\"\r\n            }, {\r\n                \"Information\": \"One of the following is evident:\\n a.Slight pain near IV site\\n b.Slight REDNESS near IV site\",\r\n                \"Interpretation\": \"Possible first signs\",\r\n                \"Intervention\": \"Observe cannula\",\r\n                \"Value\": \"1\"\r\n            }, {\r\n                \"Information\": \"Two of the following are evident:\\n a.Pain at IV site\\n b.Erythema \\n c.Swelling\",\r\n                \"Interpretation\": \"Early stages of Phlebitis \",\r\n                \"Intervention\": \"Resite cannula\",\r\n                \"Value\": \"2\"\r\n            }, {\r\n                \"Information\": \"All of the following are evident:\\n a.Pain along path of canulla\\n b.Erythema \\n c.Induratio\",\r\n                \"Interpretation\": \"Mid-stage of Phlebitis \",\r\n                \"Intervention\": \"Resite cannula consider treatment\",\r\n                \"Value\": \"3\"\r\n            }, {\r\n                \"Information\": \"All of the following are evident and extensive:\\n a.Pain along path of canulla\\n b.Erythema \\n c.Induratio \\n d.Palpabic venous cord\",\r\n                \"Interpretation\": \"Advanced stage of Phlebitis or start of thrombophlebitis\",\r\n                \"Intervention\": \"Resite cannula consider treatment\",\r\n                \"Value\": \"4\"\r\n            }, {\r\n                \"Information\": \"All of the following are evident and extensive:\\n a.Pain along path of canulla\\n b.Erythema \\n c.Induratio \\n d.Palpabic venous cord\\n e. Pyrexia\",\r\n                \"Interpretation\": \"Advanced stage of thrombophlebitis\",\r\n                \"Intervention\": \"Initiate treatment\",\r\n                \"Value\": \"5\"\r\n            }]\r\n        });\r\n\r\n        sap.ui.getCore().byId(\"API_VIP_TABLE\").setModel(oVIPModel, \"VIP\");\r\n\r\n        if (_patient.DocumentNo) {\r\n            var sPath = \"ScVipDetailHdrSet?$filter= DocumentNumber eq '\" + _patient.DocumentNo + \"' and DocumentVersion eq '\" + _patient.DocumentVersion + \"' and DocumentType eq '\" + _patient.DocumentType + \"' and DocumentPart eq '\" + _patient.DocumantPart + \"'&$expand=SCVIPDETAILHDRTOITEM\";\r\n            thatVIP.oModel.read(sPath, null, null, false, function(oData, oResponse) {\r\n                    var selectedData = oData.results[0];\r\n                    thatVIP.setSelectedDataToLists(selectedData);\r\n                    thatVIP.setButtonsEnability();\r\n                },\r\n                function(oData, oResponse) {\r\n                    /* failed */\r\n                    var msg = oData.response.body;\r\n                    msg = JSON.parse(msg);\r\n                    msg = msg.error.message.value;\r\n                    sap.m.MessageBox.show(msg, {\r\n                        title: \"Alert\",\r\n                        icon: sap.m.MessageBox.Icon.ERROR,\r\n                        actions: [sap.m.MessageBox.Action.OK],\r\n                    });\r\n                });\r\n        } else {\r\n            if (_patient.Mode == \"E\") {\r\n                sap.ui.getCore().byId(\"API_VIP_RELEASE_BUTTON\").setVisible(true);\r\n                sap.ui.getCore().byId(\"API_VIP_SAVE_BUTTON\").setVisible(true);\r\n            }\r\n        }\r\n    },\r\n\r\n    //In edit and display mode, set selected data to lists\r\n    setSelectedDataToLists: function(selectedData) {\r\n        sap.ui.getCore().byId(\"API_VIP_TABLE\").setHeaderText(\"Visual Infusion Phlebitis \" + \"(\" + selectedData.ScvipRb + \")\");\r\n        var vipList = sap.ui.getCore().byId(\"API_VIP_TABLE\");\r\n        for (var i = 0; i < vipList.getModel(\"VIP\").getData().VIPData.length; i++) {\r\n            if (selectedData.ScvipRb == vipList.getModel(\"VIP\").getData().VIPData[i].Value) {\r\n                vipList.setSelectedItem(vipList.getItems()[i]);\r\n                break;\r\n            }\r\n        }\r\n        sap.ui.getCore().byId(\"API_VIP_TABLE\").getModel(\"VIP\").refresh(true);\r\n    },\r\n\r\n    // setting enability of buttons based on mode \r\n    setButtonsEnability: function() {\r\n        var thatVIP = this;\r\n        if (_patient.Mode == \"E\") {\r\n            thatVIP.setListEnable();\r\n            if (_patient.Status == \"IW\") {\r\n                sap.ui.getCore().byId(\"API_VIP_RELEASE_BUTTON\").setVisible(true);\r\n                sap.ui.getCore().byId(\"API_VIP_SAVE_BUTTON\").setVisible(true);\r\n            } else {\r\n                sap.ui.getCore().byId(\"API_VIP_RELEASE_BUTTON\").setVisible(false);\r\n                sap.ui.getCore().byId(\"API_VIP_SAVE_BUTTON\").setVisible(false);\r\n            }\r\n        } else {\r\n            thatVIP.setListDisable();\r\n            sap.ui.getCore().byId(\"API_VIP_RELEASE_BUTTON\").setVisible(false);\r\n            sap.ui.getCore().byId(\"API_VIP_SAVE_BUTTON\").setVisible(false);\r\n        }\r\n    },\r\n\r\n    // enable lists for edit mode\r\n    setListEnable: function(oEvent) {\r\n        var vipList = sap.ui.getCore().byId(\"API_VIP_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < vipList.length; i++) {\r\n            vipList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n    },\r\n\r\n    // disable lists for display mode\r\n    setListDisable: function(oEvent) {\r\n        var vipList = sap.ui.getCore().byId(\"API_VIP_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < vipList.length; i++) {\r\n            vipList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n\r\n    },\r\n\r\n    // on select of item \r\n    onSelectionChange: function(oEvent) {\r\n        sap.ui.getCore().byId(\"API_VIP_TABLE\").setHeaderText(\"Visual Infusion Phlebitis\" + \"(\" + oEvent.getSource().getSelectedContextPaths()[0].split(\"/\")[2] + \")\");\r\n    },\r\n\r\n    // on save pressed\r\n    _handleAPIVIPSavePressed: function() {\r\n        var thatVIP = this;\r\n        if (sap.ui.getCore().byId(\"API_VIP_TABLE\").getSelectedItem()) {\r\n            var vipScore = sap.ui.getCore().byId(\"API_VIP_TABLE\").getModel(\"VIP\").getData().VIPData[sap.ui.getCore().byId(\"API_VIP_TABLE\").getSelectedItem().getBindingContextPath().split(\"/\")[2]];\r\n\r\n            data = {\r\n                DocumentType: _patient.DocumentType,\r\n                DocumentNumber: _patient.DocumentNo,\r\n                DocumentVersion: _patient.DocumentVersion,\r\n                DocumentPart: _patient.DocumantPart,\r\n                PatientName: _patient.PatientName,\r\n                PatientMrn: _patient.Patient,\r\n                PatientSex: _patient.Sex,\r\n                PatientDob: _patient.Birthdate,\r\n                PatientDoctor: _patient.PatientDoctor,\r\n                PatientAge: _patient.Age,\r\n                PatientCasetype: _patient.CaseType,\r\n                PatientCaseno: _patient.CaseNo,\r\n                ScvipRb: vipScore.Value,\r\n                ScvipTotal: vipScore.Value,\r\n                Description: vipScore.Information,\r\n                Interpretion: vipScore.Interpretation,\r\n                Intervention: vipScore.Intervention,\r\n                PmdPackag: \"\",\r\n                Institution: \"RFH1\",\r\n                DepartmentOu: _patient.DeptOu,\r\n                EmployeeResp: \"\",\r\n                SCVIPDETAILHDRTOITEM: []\r\n            };\r\n            if (_patient.DocumentNo && _patient.Mode == \"E\") {\r\n                data.Mode = \"U\";\r\n            } else {\r\n                data.Mode = \"C\";\r\n            }\r\n\r\n            thatVIP.oModel.create(\"/ScVipDetailHdrSet\", data, null, function(oData, oResponse) {\r\n                //execute in case of call success\r\n                thatVIP[\"VIPCreate\"].destroy();\r\n                sap.m.MessageToast.show(oResponse.headers[\"sap-message\"]);\r\n                if (thatVIP.VIPDirectRelease) {\r\n                    var docNumber = oResponse.headers[\"sap-message\"].split(\" \")[2];\r\n                    var data = {\r\n                    \t\t \"DocumentNumber\": docNumber,\r\n                             \"DocumentType\": _patient.DocumentType ? _patient.DocumentType : \"MED\",\r\n                             \"DocumentVersion\": _patient.DocumentVersion ? _patient.DocumentVersion : \"00\",\r\n                             \"DocumentPart\": _patient.DocumantPart ? _patient.DocumantPart : \"000\"\r\n                    };\r\n                    thatVIP.oModel.update(\"PmdReleaseSet('\" + docNumber + \"')\", data, null, function(oData, oResponse) {\r\n\r\n                            thatVIP.VIPDirectRelease = false;\r\n                            sap.m.MessageToast.show(oResponse.headers[\"sap-message\"]);\r\n                            \r\n                            var eb = sap.ui.getCore().getEventBus();\r\n                            var returnData = {\r\n                                    \"DocumentNumber\": docNumber,\r\n                                    \"DocumentType\": _patient.DocumentType,\r\n                                    \"DocumentVersion\": _patient.DocumentVersion,\r\n                                    \"DocumentPart\": _patient.DocumantPart,\r\n                                    \"TotalScore\": vipScore.Value\r\n                                };\r\n                            eb.publish(\"ZHN_API_SCORES\", \"VIPRelease\", returnData);\r\n                        \r\n                        },\r\n                        function(oData, oResponse) {\r\n                            thatVIP.VIPDirectRelease = false;\r\n                            var msg = oData.response.body;\r\n                            msg = JSON.parse(msg);\r\n                            msg = msg.error.message.value;\r\n                            sap.m.MessageBox.show(msg, {\r\n                                title: \"Alert\",\r\n                                icon: sap.m.MessageBox.Icon.ERROR,\r\n                                actions: [sap.m.MessageBox.Action.OK],\r\n                            });\r\n                        });\r\n                }else{\r\n                \tvar eb = sap.ui.getCore().getEventBus();\r\n                \teb.publish(\"ZHN_API_SCORES\", \"ScoresSaveClose\", {});\r\n                }\r\n\r\n            }, function(oData, response) {\r\n                /* failed */\r\n                var msg = oData.response.body;\r\n                msg = JSON.parse(msg);\r\n                msg = msg.error.message.value;\r\n                sap.m.MessageBox.show(msg, {\r\n                    title: \"Alert\",\r\n                    icon: sap.m.MessageBox.Icon.ERROR,\r\n                    actions: [sap.m.MessageBox.Action.OK],\r\n                });\r\n            });\r\n\r\n        } else {\r\n            sap.m.MessageToast.show(\"Please select Visual Infusion Phlebitis .\");\r\n        }\r\n    },\r\n\r\n    // on release pressed\r\n    _handleAPIVIPReleasePressed: function() {\r\n        var thatVIP = this;\r\n        thatVIP.VIPDirectRelease = true;\r\n        thatVIP._handleAPIVIPSavePressed();\r\n        thatVIP.VIPDirectRelease = false;\r\n    }\r\n});",
		"ZHN_API_SCORES/vip/VIPCreate.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\"\r\n\txmlns:core=\"sap.ui.core\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\"\r\n\txmlns:app=\"http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1\">\r\n\t<Dialog showHeader=\"false\" class=\"sapUiSizeCompact\" width=\"100%\"\r\n\t\tid=\"API_VIP_DIALOG\">\r\n\t\t<subHeader>\r\n\t\t\t<Bar>\r\n\t\t\t\t<contentMiddle>\r\n\t\t\t\t\t<Label text=\"Visual Infusion Phlebitis\" design=\"Bold\" />\r\n\t\t\t\t</contentMiddle>\r\n\t\t\t\t<contentRight>\r\n\t\t\t\t\t<Text id=\"API_VIP_TOTAL\" design=\"Bold\" />\r\n\t\t\t\t</contentRight>\r\n\t\t\t</Bar>\r\n\r\n\t\t</subHeader>\r\n\t\t<content>\r\n\t\t\t<l:Grid defaultSpan=\"L12 M12 S12\" width=\"auto\" position=\"Center\"\r\n\t\t\t\t\t\t\tvSpacing=\"10px\">\r\n\t\t\t\t\t\t\t<l:content>\r\n\t\t\t\t\t\t\t\t<Table id=\"API_VIP_TABLE\" items=\"{VIP>/VIPData}\" selectionChange=\"onSelectionChange\"\r\n\t\t\t\t\t\t\t\t\theaderText=\"Visual Infusion Phlebitis\" wrapping=\"true\"\r\n\t\t\t\t\t\t\t\t\tincludeItemInSelection=\"false\" mode=\"SingleSelectLeft\">\r\n\t\t\t\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t\t\t\t<Column hAlign=\"Left\">\r\n\t\t\t\t\t\t\t\t\t\t\t<ObjectStatus text=\"Information\" />\r\n\t\t\t\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\t\t\t<Column hAlign=\"Left\">\r\n\t\t\t\t\t\t\t\t\t\t\t<ObjectStatus text=\"Interpretation\" />\r\n\t\t\t\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\t\t\t<Column hAlign=\"Left\">\r\n\t\t\t\t\t\t\t\t\t\t\t<ObjectStatus text=\"Intervention\" />\r\n\t\t\t\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\t\t\t<Column hAlign=\"Left\" width=\"10%\" />\r\n\t\t\t\t\t\t\t\t\t</columns>\r\n\r\n\t\t\t\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\">\r\n\t\t\t\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{VIP>Information}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{VIP>Interpretation}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{VIP>Intervention}\" wrapping=\"true\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{VIP>Value}\" />\r\n\t\t\t\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\r\n\t\t\t\t\t\t\t</l:content>\r\n\t\t\t\t\t\t</l:Grid>\r\n\t\t</content>\r\n\t\t<buttons>\r\n\r\n\t\t\t<Button text=\"Release\" press=\"_handleAPIVIPReleasePressed\" id=\"API_VIP_RELEASE_BUTTON\"\r\n\t\t\t\tapp:dialogType=\"VIPCreate\" />\r\n\t\t\t<Button text=\"Save\" type=\"Accept\" press=\"_handleAPIVIPSavePressed\" id=\"API_VIP_SAVE_BUTTON\"\r\n\t\t\t\tapp:dialogType=\"VIPCreate\" />\r\n\t\t\t<Button text=\"Cancel\" type=\"Reject\" press=\"onDialogclose\"\r\n\t\t\t\tapp:dialogType=\"VIPCreate\" />\r\n\t\t</buttons>\r\n\t</Dialog>\r\n</core:FragmentDefinition>",
		"ZHN_API_SCORES/painScale/PainScale.js": "jQuery.sap.declare(\"ZHN_API_SCORES.painScale.PainScale\");\r\njQuery.sap.require(\"sap.ui.core.Component\");\r\njQuery.sap.require(\"ZHN_API_SCORES.utils.Formatter\");\r\nsap.ui.core.Component.extend(\"ZHN_API_SCORES.painScale.PainScale\", {\r\n\r\n    initPainScale: function(that, patient) {\r\n        _thatPS = that;\r\n        _patient = patient;\r\n        /*{      \tInstitution: \"RFH1\",\r\n    \t \t\t\tPatientId : thatPS.patientDetail.Patient,\r\n    \t \t\t\tCaseNo: thatPS.patientDetail.Case,\t\r\n    \t \t\t\tPatientName: thatPS.patientDetail.PatientName,\r\n    \t \t\t\tSex : thatPS.patientDetail.Sex,\r\n    \t \t\t\tBirthdate : thatPS.patientDetail.Birthdate,\r\n    \t \t\t\tPatientDoctor : thatPS.patientDetail.PatientDoctor,\r\n    \t \t\t\tAge : thatPS.patientDetail.Age,\r\n    \t \t\t\tCaseType : thatPS.patientDetail.CaseType,\r\n\t\t\t       \tDeptOu : thatPS.patientDetail.DeptOu,\r\n\t\t\t       \tStatus :\"\",\r\n\t\t\t       \tDocumentNo : \"\",\r\n\t\t\t       \tDocumentType :\"\",\r\n\t\t\t        DocumentVersion : \"\",\r\n\t\t\t        DocumantPart : \"\",\r\n\t\t\t        Mode : \"E\"\r\n\t    }*/\r\n\r\n        var _proxy = \"\";\r\n \t   //var _proxy = \"proxy/http/devnwngd.ril.com:8000\";\r\n \t   // Initialize service model\r\n        var serviceUrl = _proxy+\"/sap/opu/odata/sap/Z_FIORI_SCORES_PMD_SRV\";\r\n        this.oModel = new sap.ui.model.odata.ODataModel(serviceUrl, true);\r\n\r\n        this.openDialog(\"PainScaleCreate\");\r\n        sap.ui.getCore().byId(\"API_SCALE_TYPE_COMBO\").setSelectedKey(\"1\");\r\n        this.onScaleTypeChange();\r\n        this.initPainScaleCreateDiag();\r\n    },\r\n\r\n    //open dialog\r\n    openDialog: function(sName) {\r\n        if (!this[sName]) {\r\n            this[sName] = sap.ui.xmlfragment(\"ZHN_API_SCORES/painScale/\" + sName, this);\r\n            _thatPS.getView().addDependent(this[sName]);\r\n        }\r\n        this[sName].open();\r\n    },\r\n\r\n    // close dialog\r\n    onDialogclose: function(oEvent) {\r\n        var sName = \"\";\r\n        if (typeof oEvent == \"object\")\r\n            sName = oEvent.getSource().getCustomData()[0].getValue();\r\n        else\r\n            sName = oEvent;\r\n        this[sName].destroy();\r\n        this[sName] = undefined;\r\n    \tvar eb = sap.ui.getCore().getEventBus();\r\n    \teb.publish(\"ZHN_API_SCORES\", \"ScoresSaveClose\", {});\r\n    },\r\n\r\n    // initialise pain scale dialog\r\n    initPainScaleCreateDiag: function() {\r\n        var thatPS = this;\r\n        thatPS.initFaceScaleTotalScore();\r\n        thatPS.initBPScaleTotalScore();\r\n        thatPS.initFlaccScaleTotalScore();\r\n        thatPS.initNipScaleTotalScore();\r\n\r\n        if (_patient.DocumentNo) {\r\n            sPath = \"ScPainDetailHdrSet?$filter= DocumentNumber eq '\" + _patient.DocumentNo + \"' and DocumentVersion eq '\" + _patient.DocumentVersion + \"' and DocumentType eq '\" + _patient.DocumentType + \"' and DocumentPart eq '\" + _patient.DocumantPart + \"'&$expand=SCPAINDETAILHDRTOITEM\";\r\n            thatPS.oModel.read(sPath, null, null, false, function(oData, oResponse) {\r\n                    thatPS.initFaceScaleTotalScore();\r\n                    thatPS.initBPScaleTotalScore();\r\n                    thatPS.initFlaccScaleTotalScore();\r\n                    thatPS.initNipScaleTotalScore();\r\n                    var selectedData = oData.results[0];\r\n                    thatPS.setSelectedDataToLists(selectedData);\r\n                    thatPS.setButtonsEnability();\r\n                },\r\n                function(oData, oResponse) {\r\n                    /* failed */\r\n                    var msg = oData.response.body;\r\n                    msg = JSON.parse(msg);\r\n                    msg = msg.error.message.value;\r\n                    sap.m.MessageBox.show(msg, {\r\n                        title: \"Alert\",\r\n                        icon: sap.m.MessageBox.Icon.ERROR,\r\n                        actions: [sap.m.MessageBox.Action.OK],\r\n                    });\r\n                });\r\n        } else {\r\n            if (_patient.Mode == \"E\") {\r\n                sap.ui.getCore().byId(\"API_PAINSCALE_RELEASE_BUTTON\").setVisible(true);\r\n                sap.ui.getCore().byId(\"API_PAINSCALE_SAVE_BUTTON\").setVisible(true);\r\n            }\r\n        }\r\n    },\r\n\r\n    // setting enablity of buttons based on mode \r\n    setButtonsEnability: function() {\r\n        var thatPS = this;\r\n        if (_patient.Mode == \"E\") {\r\n            thatPS.setListEnable();\r\n            sap.ui.getCore().byId(\"API_SCALE_TYPE_COMBO\").setEnabled(true);\r\n            if (_patient.Status == \"IW\") {\r\n                sap.ui.getCore().byId(\"API_PAINSCALE_RELEASE_BUTTON\").setVisible(true);\r\n                sap.ui.getCore().byId(\"API_PAINSCALE_SAVE_BUTTON\").setVisible(true);\r\n            } else {\r\n                sap.ui.getCore().byId(\"API_SCALE_TYPE_COMBO\").setEnabled(false);\r\n                sap.ui.getCore().byId(\"API_PAINSCALE_RELEASE_BUTTON\").setVisible(false);\r\n                sap.ui.getCore().byId(\"API_PAINSCALE_SAVE_BUTTON\").setVisible(false);\r\n            }\r\n        } else {\r\n            sap.ui.getCore().byId(\"API_SCALE_TYPE_COMBO\").setEnabled(false);\r\n            thatPS.setListDisable();\r\n            sap.ui.getCore().byId(\"API_PAINSCALE_RELEASE_BUTTON\").setVisible(false);\r\n            sap.ui.getCore().byId(\"API_PAINSCALE_SAVE_BUTTON\").setVisible(false);\r\n        }\r\n    },\r\n\r\n    // enable lists for edit mode\r\n    setListEnable: function(oEvent) {\r\n        var faceScaleList = sap.ui.getCore().byId(\"API_PAIN_SCALE_FC_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < faceScaleList.length; i++) {\r\n            faceScaleList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n        var bmrList = sap.ui.getCore().byId(\"API_PAIN_SCALE_BMR_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < bmrList.length; i++) {\r\n            bmrList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n        var bvrList = sap.ui.getCore().byId(\"API_PAIN_SCALE_BVR_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < bvrList.length; i++) {\r\n            bvrList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n        var eyeOpeningList = sap.ui.getCore().byId(\"API_PAIN_SCALE_EO_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < eyeOpeningList.length; i++) {\r\n            eyeOpeningList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n        var flaccFaceList = sap.ui.getCore().byId(\"API_PAIN_SCALE_FLACC_FACE_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < flaccFaceList.length; i++) {\r\n            flaccFaceList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n        var flaccLegsList = sap.ui.getCore().byId(\"API_PAIN_SCALE_FLACC_LEGS_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < flaccLegsList.length; i++) {\r\n            flaccLegsList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n        var flaccActivityList = sap.ui.getCore().byId(\"API_PAIN_SCALE_FLACC_ACTIVITY_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < flaccActivityList.length; i++) {\r\n            flaccActivityList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n        var flaccCryList = sap.ui.getCore().byId(\"API_PAIN_SCALE_FLACC_CRY_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < flaccCryList.length; i++) {\r\n            flaccCryList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n        var flaccConsolabilityList = sap.ui.getCore().byId(\"API_PAIN_SCALE_FLACC_CONSOLABILITY_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < flaccConsolabilityList.length; i++) {\r\n            flaccConsolabilityList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n        var nipFaceExpList = sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_FACIAL_EXPRESSION_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < nipFaceExpList.length; i++) {\r\n            nipFaceExpList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n        var nipBreathPatList = sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_BREATHING_PATTERN_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < nipBreathPatList.length; i++) {\r\n            nipBreathPatList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n        var nipArmsList = sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_ARMS_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < nipArmsList.length; i++) {\r\n            nipArmsList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n        var nipLegsList = sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_LEGS_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < nipLegsList.length; i++) {\r\n            nipLegsList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n        var nipArousalList = sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_STATE_OF_AROUSAL_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < nipArousalList.length; i++) {\r\n            nipArousalList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n        var nipCryList = sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_CRY_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < nipCryList.length; i++) {\r\n            nipCryList[i].getSingleSelectControl().setEnabled(true);\r\n        }\r\n    },\r\n\r\n    // disable lists for display mode\r\n    setListDisable: function(oEvent) {\r\n        var faceScaleList = sap.ui.getCore().byId(\"API_PAIN_SCALE_FC_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < faceScaleList.length; i++) {\r\n            faceScaleList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n        var bmrList = sap.ui.getCore().byId(\"API_PAIN_SCALE_BMR_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < bmrList.length; i++) {\r\n            bmrList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n        var bvrList = sap.ui.getCore().byId(\"API_PAIN_SCALE_BVR_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < bvrList.length; i++) {\r\n            bvrList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n        var eyeOpeningList = sap.ui.getCore().byId(\"API_PAIN_SCALE_EO_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < eyeOpeningList.length; i++) {\r\n            eyeOpeningList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n        var flaccFaceList = sap.ui.getCore().byId(\"API_PAIN_SCALE_FLACC_FACE_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < flaccFaceList.length; i++) {\r\n            flaccFaceList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n        var flaccLegsList = sap.ui.getCore().byId(\"API_PAIN_SCALE_FLACC_LEGS_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < flaccLegsList.length; i++) {\r\n            flaccLegsList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n        var flaccActivityList = sap.ui.getCore().byId(\"API_PAIN_SCALE_FLACC_ACTIVITY_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < flaccActivityList.length; i++) {\r\n            flaccActivityList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n        var flaccCryList = sap.ui.getCore().byId(\"API_PAIN_SCALE_FLACC_CRY_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < flaccCryList.length; i++) {\r\n            flaccCryList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n        var flaccConsolabilityList = sap.ui.getCore().byId(\"API_PAIN_SCALE_FLACC_CONSOLABILITY_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < flaccConsolabilityList.length; i++) {\r\n            flaccConsolabilityList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n        var nipFaceExpList = sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_FACIAL_EXPRESSION_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < nipFaceExpList.length; i++) {\r\n            nipFaceExpList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n        var nipBreathPatList = sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_BREATHING_PATTERN_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < nipBreathPatList.length; i++) {\r\n            nipBreathPatList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n        var nipArmsList = sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_ARMS_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < nipArmsList.length; i++) {\r\n            nipArmsList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n        var nipLegsList = sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_LEGS_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < nipLegsList.length; i++) {\r\n            nipLegsList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n        var nipArousalList = sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_STATE_OF_AROUSAL_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < nipArousalList.length; i++) {\r\n            nipArousalList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n        var nipCryList = sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_CRY_TABLE\").getAggregation(\"items\");\r\n        for (var i = 0; i < nipCryList.length; i++) {\r\n            nipCryList[i].getSingleSelectControl().setEnabled(false);\r\n        }\r\n\r\n    },\r\n\r\n    //In edit and display mode, set selected data to lists\r\n    setSelectedDataToLists: function(selectedData) {\r\n        var thatPS = this;\r\n        var bpsScore = sap.ui.getCore().byId(\"API_BPS_PANEL\").getModel(\"ScoreModelBPS\").getData().ScoreModelBPS[0];\r\n\r\n        var faceScore = sap.ui.getCore().byId(\"API_FACE_SCALE_PANEL\").getModel(\"FaceScaleModel\").getData().FaceScaleScore[0];\r\n        faceScore.Name = selectedData.FaceInterpretion;\r\n        faceScore.Value = selectedData.FaceScale;\r\n        sap.ui.getCore().byId(\"API_FACE_SCALE_PANEL\").getModel(\"FaceScaleModel\").refresh(true);\r\n        sap.ui.getCore().byId(\"API_FACE_SCALE_PANEL\").setHeaderText(\"Face Scale (\" + faceScore.Value + \")\");\r\n\r\n        bpsScore[\"FaceScale\"].Value = selectedData.FaceScale;\r\n        bpsScore[\"BestMotorResponse\"].Value = selectedData.FaceExpresion;\r\n        bpsScore[\"BestVerbalResponse\"].Value = selectedData.BpainUpLiMov;\r\n        bpsScore[\"EyeOpening\"].Value = selectedData.BpainCompl;\r\n        if (parseInt(selectedData.FaceExpresion))\r\n            bpsScore.TotalScore = parseInt(selectedData.FaceExpresion).toString();\r\n        if (parseInt(selectedData.BpainUpLiMov))\r\n            bpsScore.TotalScore = (parseInt(bpsScore.TotalScore) + parseInt(selectedData.BpainUpLiMov)).toString();\r\n        if (parseInt(selectedData.BpainCompl))\r\n            bpsScore.TotalScore = (parseInt(bpsScore.TotalScore) + parseInt(selectedData.BpainCompl)).toString();\r\n\r\n\r\n        var faceList = sap.ui.getCore().byId(\"API_PAIN_SCALE_FC_TABLE\");\r\n        for (var i = 0; i < faceList.getModel(\"FS\").getData().FaceScale.length; i++) {\r\n            if (selectedData.FaceScale == faceList.getModel(\"FS\").getData().FaceScale[i].Value) {\r\n                faceList.setSelectedItem(faceList.getItems()[i]);\r\n                bpsScore[\"FaceScale\"].Name = faceList.getModel(\"FS\").getData().FaceScale[i].Name;\r\n                break;\r\n            }\r\n        }\r\n        var bmrList = sap.ui.getCore().byId(\"API_PAIN_SCALE_BMR_TABLE\");\r\n        for (var i = 0; i < bmrList.getModel(\"MR\").getData().MRCollection.length; i++) {\r\n            if (selectedData.FaceExpresion == bmrList.getModel(\"MR\").getData().MRCollection[i].Value) {\r\n                bmrList.setSelectedItem(bmrList.getItems()[i]);\r\n                bpsScore[\"BestMotorResponse\"].Name = bmrList.getModel(\"MR\").getData().MRCollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n\r\n        var bvrList = sap.ui.getCore().byId(\"API_PAIN_SCALE_BVR_TABLE\");\r\n        for (var i = 0; i < bvrList.getModel(\"VR\").getData().VRCollection.length; i++) {\r\n            if (selectedData.BpainUpLiMov == bvrList.getModel(\"VR\").getData().VRCollection[i].Value) {\r\n                bvrList.setSelectedItem(bvrList.getItems()[i]);\r\n                bpsScore[\"BestVerbalResponse\"].Name = bvrList.getModel(\"VR\").getData().VRCollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n        var eyeOpeningList = sap.ui.getCore().byId(\"API_PAIN_SCALE_EO_TABLE\");\r\n        for (var i = 0; i < eyeOpeningList.getModel(\"EO\").getData().EOCollection.length; i++) {\r\n            if (selectedData.BpainCompl == eyeOpeningList.getModel(\"EO\").getData().EOCollection[i].Value) {\r\n                eyeOpeningList.setSelectedItem(eyeOpeningList.getItems()[i]);\r\n                bpsScore[\"EyeOpening\"].Name = eyeOpeningList.getModel(\"EO\").getData().EOCollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n        sap.ui.getCore().byId(\"API_BPS_PANEL\").getModel(\"ScoreModelBPS\").refresh(true);\r\n        sap.ui.getCore().byId(\"API_BPS_PANEL\").setHeaderText(\"Behavioral Pain Scale (\" + bpsScore.TotalScore + \" \" + ZHN_API_SCORES.utils.Formatter.getBPSInterpretation(parseInt(bpsScore.TotalScore)) + \")\");\r\n\r\n        var flaccScore = sap.ui.getCore().byId(\"API_FLACC_SCALE_PANEL\").getModel(\"FLACCScaleScoreModel\").getData().FLACCScaleScoreModel[0];\r\n        flaccScore[\"Face\"].Value = selectedData.Face;\r\n        flaccScore[\"Legs\"].Value = selectedData.Legs;\r\n        flaccScore[\"Activity\"].Value = selectedData.Activity;\r\n        flaccScore[\"Cry\"].Value = selectedData.Cry;\r\n        flaccScore[\"Consolability\"].Value = selectedData.Consolability;\r\n\r\n        if (flaccScore.Face.Value && flaccScore.Legs.Value && flaccScore.Activity.Value && flaccScore.Cry.Value && flaccScore.Consolability.Value)\r\n        flaccScore.TotalScore = (parseInt(selectedData.Face) + parseInt(selectedData.Legs) + parseInt(selectedData.Activity) + parseInt(selectedData.Cry) + parseInt(selectedData.Consolability)).toString();\r\n\r\n        var flaccFaceList = sap.ui.getCore().byId(\"API_PAIN_SCALE_FLACC_FACE_TABLE\");\r\n        for (var i = 0; i < flaccFaceList.getModel(\"FLACCFACE\").getData().FLACCFaceCollection.length; i++) {\r\n            if (selectedData.Face == flaccFaceList.getModel(\"FLACCFACE\").getData().FLACCFaceCollection[i].Value) {\r\n                flaccFaceList.setSelectedItem(flaccFaceList.getItems()[i]);\r\n                flaccScore[\"Face\"].Name = flaccFaceList.getModel(\"FLACCFACE\").getData().FLACCFaceCollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n        var flaccLegList = sap.ui.getCore().byId(\"API_PAIN_SCALE_FLACC_LEGS_TABLE\");\r\n        for (var i = 0; i < flaccLegList.getModel(\"FLACCLEGS\").getData().FLACCLegsCollection.length; i++) {\r\n            if (selectedData.Legs == flaccLegList.getModel(\"FLACCLEGS\").getData().FLACCLegsCollection[i].Value) {\r\n                flaccLegList.setSelectedItem(flaccLegList.getItems()[i]);\r\n                flaccScore[\"Legs\"].Name = flaccLegList.getModel(\"FLACCLEGS\").getData().FLACCLegsCollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n        var flaccActivityList = sap.ui.getCore().byId(\"API_PAIN_SCALE_FLACC_ACTIVITY_TABLE\");\r\n        for (var i = 0; i < flaccActivityList.getModel(\"FLACCACTIVITY\").getData().FLACCActivityCollection.length; i++) {\r\n            if (selectedData.Activity == flaccActivityList.getModel(\"FLACCACTIVITY\").getData().FLACCActivityCollection[i].Value) {\r\n                flaccActivityList.setSelectedItem(flaccActivityList.getItems()[i]);\r\n                flaccScore[\"Activity\"].Name = flaccActivityList.getModel(\"FLACCACTIVITY\").getData().FLACCActivityCollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n        var flaccCryList = sap.ui.getCore().byId(\"API_PAIN_SCALE_FLACC_CRY_TABLE\");\r\n        for (var i = 0; i < flaccCryList.getModel(\"FLACCCRY\").getData().FLACCCryCollection.length; i++) {\r\n            if (selectedData.Cry == flaccCryList.getModel(\"FLACCCRY\").getData().FLACCCryCollection[i].Value) {\r\n                flaccCryList.setSelectedItem(flaccCryList.getItems()[i]);\r\n                flaccScore[\"Cry\"].Name = flaccCryList.getModel(\"FLACCCRY\").getData().FLACCCryCollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n        var flaccConsolabilitList = sap.ui.getCore().byId(\"API_PAIN_SCALE_FLACC_CONSOLABILITY_TABLE\");\r\n        for (var i = 0; i < flaccConsolabilitList.getModel(\"FLACCCONSOLABILITY\").getData().FLACCConsolabilityCollection.length; i++) {\r\n            if (selectedData.Consolability == flaccConsolabilitList.getModel(\"FLACCCONSOLABILITY\").getData().FLACCConsolabilityCollection[i].Value) {\r\n                flaccConsolabilitList.setSelectedItem(flaccConsolabilitList.getItems()[i]);\r\n                flaccScore[\"Consolability\"].Name = flaccConsolabilitList.getModel(\"FLACCCONSOLABILITY\").getData().FLACCConsolabilityCollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n        sap.ui.getCore().byId(\"API_FLACC_SCALE_PANEL\").getModel(\"FLACCScaleScoreModel\").refresh(true);\r\n        sap.ui.getCore().byId(\"API_FLACC_SCALE_PANEL\").setHeaderText(\"FLACC Scale (\" + flaccScore.TotalScore + \" \" + ZHN_API_SCORES.utils.Formatter.getFLACCInterpretation(parseInt(flaccScore.TotalScore)) + \")\");\r\n\r\n        var nipScaleScore = sap.ui.getCore().byId(\"API_NIP_SCALE_PANEL\").getModel(\"NIPScaleScoreModel\").getData().NIPScaleScoreModel[0];\r\n        nipScaleScore[\"FacialExpression\"].Value = selectedData.NeoFacial;\r\n        nipScaleScore[\"BreathingPattern\"].Value = selectedData.NeoBreath;\r\n        nipScaleScore[\"Arms\"].Value = selectedData.NeoArms;\r\n        nipScaleScore[\"Legs\"].Value = selectedData.NeoLegs;\r\n        nipScaleScore[\"StateofArousal\"].Value = selectedData.NeoState;\r\n        nipScaleScore[\"Cry\"].Value = selectedData.NeoCry;\r\n        nipScaleScore[\"TotalScore\"] = selectedData.NeoTotalScore;\r\n\r\n        var nipFacialExpList = sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_FACIAL_EXPRESSION_TABLE\");\r\n        for (var i = 0; i < nipFacialExpList.getModel(\"NIPFACIALEXPRS\").getData().NIPFacialexpressionCollection.length; i++) {\r\n            if (selectedData.NeoFacial == nipFacialExpList.getModel(\"NIPFACIALEXPRS\").getData().NIPFacialexpressionCollection[i].Value) {\r\n                nipFacialExpList.setSelectedItem(nipFacialExpList.getItems()[i]);\r\n                nipScaleScore[\"FacialExpression\"].Name = nipFacialExpList.getModel(\"NIPFACIALEXPRS\").getData().NIPFacialexpressionCollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n        var nipBreathPatList = sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_BREATHING_PATTERN_TABLE\");\r\n        for (var i = 0; i < nipBreathPatList.getModel(\"NIPBRTHNGPATRN\").getData().NIPBreathingPatternCollection.length; i++) {\r\n            if (selectedData.NeoBreath == nipBreathPatList.getModel(\"NIPBRTHNGPATRN\").getData().NIPBreathingPatternCollection[i].Value) {\r\n                nipBreathPatList.setSelectedItem(nipBreathPatList.getItems()[i]);\r\n                nipScaleScore[\"BreathingPattern\"].Name = nipBreathPatList.getModel(\"NIPBRTHNGPATRN\").getData().NIPBreathingPatternCollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n        var nipArmsList = sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_ARMS_TABLE\");\r\n        for (var i = 0; i < nipArmsList.getModel(\"NIPARMS\").getData().NIPArmsCollection.length; i++) {\r\n            if (selectedData.NeoArms == nipArmsList.getModel(\"NIPARMS\").getData().NIPArmsCollection[i].Value) {\r\n                nipArmsList.setSelectedItem(nipArmsList.getItems()[i]);\r\n                nipScaleScore[\"Arms\"].Name = nipArmsList.getModel(\"NIPARMS\").getData().NIPArmsCollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n        var nipLegsList = sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_LEGS_TABLE\");\r\n        for (var i = 0; i < nipLegsList.getModel(\"NIPLEGS\").getData().NIPLegsCollection.length; i++) {\r\n            if (selectedData.NeoLegs == nipLegsList.getModel(\"NIPLEGS\").getData().NIPLegsCollection[i].Value) {\r\n                nipLegsList.setSelectedItem(nipLegsList.getItems()[i]);\r\n                nipScaleScore[\"Legs\"].Name = nipLegsList.getModel(\"NIPLEGS\").getData().NIPLegsCollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n        var nipArousalList = sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_STATE_OF_AROUSAL_TABLE\");\r\n        for (var i = 0; i < nipArousalList.getModel(\"NIPSATEOFARSL\").getData().NIPStateofArousalCollection.length; i++) {\r\n            if (selectedData.NeoState == nipArousalList.getModel(\"NIPSATEOFARSL\").getData().NIPStateofArousalCollection[i].Value) {\r\n                nipArousalList.setSelectedItem(nipArousalList.getItems()[i]);\r\n                nipScaleScore[\"StateofArousal\"].Name = nipArousalList.getModel(\"NIPSATEOFARSL\").getData().NIPStateofArousalCollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n        var nipCryList = sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_CRY_TABLE\");\r\n        for (var i = 0; i < nipCryList.getModel(\"NIPCRY\").getData().NIPCryCollection.length; i++) {\r\n            if (selectedData.NeoCry == nipCryList.getModel(\"NIPCRY\").getData().NIPCryCollection[i].Value) {\r\n                nipCryList.setSelectedItem(nipCryList.getItems()[i]);\r\n                nipScaleScore[\"Cry\"].Name = nipCryList.getModel(\"NIPCRY\").getData().NIPCryCollection[i].Name;\r\n                break;\r\n            }\r\n        }\r\n        sap.ui.getCore().byId(\"API_NIP_SCALE_PANEL\").getModel(\"NIPScaleScoreModel\").refresh(true);\r\n        sap.ui.getCore().byId(\"API_NIP_SCALE_PANEL\").setHeaderText(\"Neonatal infant pain scale (\" + nipScaleScore.TotalScore + \" \" + ZHN_API_SCORES.utils.Formatter.getNIPInterpretation(parseInt(nipScaleScore.TotalScore)) + \")\");\r\n\r\n        sap.ui.getCore().byId(\"API_SCALE_TYPE_COMBO\").setSelectedKey(selectedData.SclType);\r\n        thatPS.onScaleTypeChange();\r\n    },\r\n\r\n    onScaleTypeChange: function() {\r\n        var thatPS = this;\r\n        if (!_patient.DocumentNo || !_patient.Mode == \"E\") {\r\n            thatPS.initFaceScaleTotalScore();\r\n            thatPS.initBPScaleTotalScore();\r\n            thatPS.initFlaccScaleTotalScore();\r\n            thatPS.initNipScaleTotalScore();\r\n        }\r\n\r\n        sap.ui.getCore().byId(\"API_FACE_SCALE_PANEL\").setVisible(false);\r\n        sap.ui.getCore().byId(\"API_BPS_PANEL\").setVisible(false);\r\n        sap.ui.getCore().byId(\"API_FLACC_SCALE_PANEL\").setVisible(false);\r\n        sap.ui.getCore().byId(\"API_NIP_SCALE_PANEL\").setVisible(false);\r\n        var key = sap.ui.getCore().byId(\"API_SCALE_TYPE_COMBO\").getSelectedKey();\r\n        if (key) {\r\n            if (key == \"1\")\r\n                sap.ui.getCore().byId(\"API_FACE_SCALE_PANEL\").setVisible(true);\r\n            if (key == \"2\")\r\n                sap.ui.getCore().byId(\"API_BPS_PANEL\").setVisible(true);\r\n            if (key == \"3\")\r\n                sap.ui.getCore().byId(\"API_FLACC_SCALE_PANEL\").setVisible(true);\r\n            if (key == \"4\")\r\n                sap.ui.getCore().byId(\"API_NIP_SCALE_PANEL\").setVisible(true);\r\n            sap.ui.getCore().byId(\"API_PAIN_SCALE_DIALOG\").getAggregation(\"_toolbar\").setVisible(true);\r\n\r\n        } else {\r\n            sap.ui.getCore().byId(\"API_PAIN_SCALE_DIALOG\").getAggregation(\"_toolbar\").setVisible(false);\r\n        }\r\n    },\r\n\r\n    // face scale total score\r\n    initFaceScaleTotalScore: function() {\r\n        var oFaceScaleModel = new sap.ui.model.json.JSONModel({\r\n            \"FaceScaleScore\": [{\r\n                \"Name\": \"\",\r\n                \"Value\": \"\"\r\n            }]\r\n        });\r\n        sap.ui.getCore().byId(\"API_FACE_SCALE_PANEL\").setModel(oFaceScaleModel, \"FaceScaleModel\");\r\n        sap.ui.getCore().byId(\"API_FACE_SCALE_PANEL\").bindElement(\"FaceScaleModel>/FaceScaleScore/0\");\r\n        sap.ui.getCore().byId(\"API_FACE_SCALE_PANEL\").getModel(\"FaceScaleModel\").refresh(true);\r\n        sap.ui.getCore().byId(\"API_FACE_SCALE_PANEL\").setHeaderText(\"Face Scale (\" + sap.ui.getCore().byId(\"API_FACE_SCALE_PANEL\").getModel(\"FaceScaleModel\").getData().FaceScaleScore[0].Value + \")\");\r\n\r\n        var oFSModel = new sap.ui.model.json.JSONModel({\r\n            \"FaceScale\": [{\r\n                \"image\": \"/sap/bc/ui5_ui5/sap/ZHN_API_SCORES/images/PainScale/0.PNG\",\r\n                \"Name\": \"No hurt\",\r\n                \"Value\": \"0\"\r\n            }, {\r\n                \"image\": \"/sap/bc/ui5_ui5/sap/ZHN_API_SCORES/images/PainScale/1.PNG\",\r\n                \"Name\": \"Hurts a little bit\",\r\n                \"Value\": \"2\"\r\n            }, {\r\n                \"image\": \"/sap/bc/ui5_ui5/sap/ZHN_API_SCORES/images/PainScale/2.PNG\",\r\n                \"Name\": \"Hurts little more\",\r\n                \"Value\": \"4\"\r\n            }, {\r\n                \"image\": \"/sap/bc/ui5_ui5/sap/ZHN_API_SCORES/images/PainScale/3.PNG\",\r\n                \"Name\": \"Hurts even more\",\r\n                \"Value\": \"6\"\r\n            }, {\r\n                \"image\": \"/sap/bc/ui5_ui5/sap/ZHN_API_SCORES/images/PainScale/4.PNG\",\r\n                \"Name\": \"Hurts a whole lot\",\r\n                \"Value\": \"8\"\r\n            }, {\r\n                \"image\": \"/sap/bc/ui5_ui5/sap/ZHN_API_SCORES/images/PainScale/5.PNG\",\r\n                \"Name\": \"Hurts worst\",\r\n                \"Value\": \"10\"\r\n            }]\r\n        });\r\n\r\n        sap.ui.getCore().byId(\"API_PAIN_SCALE_FC_TABLE\").setModel(oFSModel, \"FS\");\r\n    },\r\n\r\n    // face scale selection change\r\n    onFaceScaleScoreSelectionChange: function(oEvent) {\r\n        var index = oEvent.getSource().getSelectedContextPaths()[0].split(\"/\")[2];\r\n        var object = sap.ui.getCore().byId(\"API_PAIN_SCALE_FC_TABLE\").getModel(\"FS\").getData().FaceScale[index];\r\n        var faceScaleScore = sap.ui.getCore().byId(\"API_FACE_SCALE_PANEL\").getModel(\"FaceScaleModel\").getData().FaceScaleScore[0];\r\n        faceScaleScore.Name = object.Name;\r\n        faceScaleScore.Value = object.Value ? object.Value : \"\";\r\n        if (faceScaleScore.Value)\r\n            sap.ui.getCore().byId(\"API_FACE_SCALE_PANEL\").getModel(\"FaceScaleModel\").refresh(true);\r\n        sap.ui.getCore().byId(\"API_FACE_SCALE_PANEL\").setHeaderText(\"Face Scale (\" + faceScaleScore.Value + \")\");\r\n    },\r\n\r\n    // BP scale score values\r\n    initBPScaleTotalScore: function() {\r\n        var oMRModel = new sap.ui.model.json.JSONModel({\r\n            \"MRCollection\": [{\r\n                \"Name\": \"Relaxed\",\r\n                \"Value\": \"1\"\r\n            }, {\r\n                \"Name\": \"Partially tightened\",\r\n                \"Value\": \"2\"\r\n            }, {\r\n                \"Name\": \"Fully tightened\",\r\n                \"Value\": \"3\"\r\n            }, {\r\n                \"Name\": \"Grimacing\",\r\n                \"Value\": \"4\"\r\n            }]\r\n        });\r\n\r\n        var oVRModel = new sap.ui.model.json.JSONModel({\r\n            \"VRCollection\": [{\r\n                \"Name\": \"No movement\",\r\n                \"Value\": \"1\"\r\n            }, {\r\n                \"Name\": \"Partially bent\",\r\n                \"Value\": \"2\"\r\n            }, {\r\n                \"Name\": \"Fully bent with finger flexion\",\r\n                \"Value\": \"3\"\r\n            }, {\r\n                \"Name\": \"Permanently retracted\",\r\n                \"Value\": \"4\"\r\n            }]\r\n        });\r\n\r\n        var oEOModel = new sap.ui.model.json.JSONModel({\r\n            \"EOCollection\": [{\r\n                \"Name\": \"Tolerating movement\",\r\n                \"Value\": \"1\"\r\n            }, {\r\n                \"Name\": \"Coughing but tolerating ventillation most of the time\",\r\n                \"Value\": \"2\"\r\n            }, {\r\n                \"Name\": \"Fighting ventillator\",\r\n                \"Value\": \"3\"\r\n            }, {\r\n                \"Name\": \"Unable to control ventillation\",\r\n                \"Value\": \"4\"\r\n            }]\r\n        });\r\n\r\n        sap.ui.getCore().byId(\"API_PAIN_SCALE_BMR_TABLE\").setModel(oMRModel, \"MR\");\r\n        sap.ui.getCore().byId(\"API_PAIN_SCALE_BVR_TABLE\").setModel(oVRModel, \"VR\");\r\n        sap.ui.getCore().byId(\"API_PAIN_SCALE_EO_TABLE\").setModel(oEOModel, \"EO\");\r\n\r\n        var oBPModel = new sap.ui.model.json.JSONModel({\r\n            \"ScoreModelBPS\": [{\r\n                \"TotalScore\": \"\",\r\n                \"BestMotorResponse\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                },\r\n                \"BestVerbalResponse\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                },\r\n                \"EyeOpening\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                },\r\n                \"FaceScale\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                }\r\n            }]\r\n        });\r\n        sap.ui.getCore().byId(\"API_BPS_PANEL\").setModel(oBPModel, \"ScoreModelBPS\");\r\n        sap.ui.getCore().byId(\"API_BPS_PANEL\").bindElement(\"ScoreModelBPS>/ScoreModelBPS/0\");\r\n        sap.ui.getCore().byId(\"API_BPS_PANEL\").getModel(\"ScoreModelBPS\").refresh(true);\r\n        sap.ui.getCore().byId(\"API_BPS_PANEL\").setHeaderText(\"Behaviour Pain Scale (\" + sap.ui.getCore().byId(\"API_BPS_PANEL\").getModel(\"ScoreModelBPS\").getData().ScoreModelBPS[0].TotalScore + \" \" + ZHN_API_SCORES.utils.Formatter.getBPSInterpretation(parseInt(sap.ui.getCore().byId(\"API_BPS_PANEL\").getModel(\"ScoreModelBPS\").getData().ScoreModelBPS[0].TotalScore)) + \")\");\r\n\r\n    },\r\n\r\n    // BP scale selection change\r\n    onBPScaleSelectionChange: function(oEvent) {\r\n        var thatPS = this;\r\n        var object;\r\n        var path = oEvent.getSource().getSelectedContextPaths()[0].split(\"/\");\r\n        var model = path[1];\r\n        switch (model) {\r\n            case \"MRCollection\":\r\n                object = sap.ui.getCore().byId(\"API_PAIN_SCALE_BMR_TABLE\").getModel(\"MR\").getData().MRCollection[path[2]];\r\n                thatPS.modifyBPScaleTotalScore(\"BestMotorResponse\", object);\r\n                break;\r\n            case \"VRCollection\":\r\n                object = sap.ui.getCore().byId(\"API_PAIN_SCALE_BVR_TABLE\").getModel(\"VR\").getData().VRCollection[path[2]];\r\n                thatPS.modifyBPScaleTotalScore(\"BestVerbalResponse\", object);\r\n                break;\r\n            case \"EOCollection\":\r\n                object = sap.ui.getCore().byId(\"API_PAIN_SCALE_EO_TABLE\").getModel(\"EO\").getData().EOCollection[path[2]];\r\n                thatPS.modifyBPScaleTotalScore(\"EyeOpening\", object);\r\n                break;\r\n        }\r\n    },\r\n\r\n    // BP scale total score\r\n    modifyBPScaleTotalScore: function(path, object) {\r\n        var scoreBPScale = sap.ui.getCore().byId(\"API_BPS_PANEL\").getModel(\"ScoreModelBPS\").getData().ScoreModelBPS[0];\r\n        scoreBPScale[path].Name = object.Name;\r\n        scoreBPScale[path].Value = object.Value ? object.Value : \"\";\r\n        if (scoreBPScale.BestMotorResponse.Value && scoreBPScale.BestVerbalResponse.Value && scoreBPScale.EyeOpening.Value)\r\n            scoreBPScale.TotalScore = (parseInt(scoreBPScale.BestMotorResponse.Value) + parseInt(scoreBPScale.BestVerbalResponse.Value) + parseInt(scoreBPScale.EyeOpening.Value)).toString();\r\n        sap.ui.getCore().byId(\"API_BPS_PANEL\").getModel(\"ScoreModelBPS\").refresh(true);\r\n        sap.ui.getCore().byId(\"API_BPS_PANEL\").setHeaderText(\"Behaviour Pain Scale (\" + scoreBPScale.TotalScore + \" \" + ZHN_API_SCORES.utils.Formatter.getBPSInterpretation(parseInt(scoreBPScale.TotalScore)) + \")\");\r\n\r\n    },\r\n\r\n    //FLACC scale score values\r\n    initFlaccScaleTotalScore: function() {\r\n\r\n        var oFLACCFaceModel = new sap.ui.model.json.JSONModel({\r\n            \"FLACCFaceCollection\": [{\r\n                \"Name\": \"No particular expression or smile\",\r\n                \"Value\": \"0\"\r\n            }, {\r\n                \"Name\": \"Occasional grimace or frown, withdrawn, disinterested\",\r\n                \"Value\": \"1\"\r\n            }, {\r\n                \"Name\": \"Frequent to constant quivering chin, clenched jaw\",\r\n                \"Value\": \"2\"\r\n            }]\r\n        });\r\n\r\n        var oFLACCLegsModel = new sap.ui.model.json.JSONModel({\r\n            \"FLACCLegsCollection\": [{\r\n                \"Name\": \"Normal Position or relaxed\",\r\n                \"Value\": \"0\"\r\n            }, {\r\n                \"Name\": \"Uneasy, restless or tensed\",\r\n                \"Value\": \"1\"\r\n            }, {\r\n                \"Name\": \"Kicking or legs drawn up\",\r\n                \"Value\": \"2\"\r\n            }]\r\n        });\r\n\r\n        var oFLACCActivityModel = new sap.ui.model.json.JSONModel({\r\n            \"FLACCActivityCollection\": [{\r\n                \"Name\": \"Lying quietly, normal position, moves easily\",\r\n                \"Value\": \"0\"\r\n            }, {\r\n                \"Name\": \"Squirming, shifting back and forth, tense\",\r\n                \"Value\": \"1\"\r\n            }, {\r\n                \"Name\": \"Arched, rigid or jerking\",\r\n                \"Value\": \"2\"\r\n            }]\r\n        });\r\n\r\n        var oFLACCCryModel = new sap.ui.model.json.JSONModel({\r\n            \"FLACCCryCollection\": [{\r\n                \"Name\": \"No Cry (awake or asleep)\",\r\n                \"Value\": \"0\"\r\n            }, {\r\n                \"Name\": \"Moans or whimpers; occasional complaints\",\r\n                \"Value\": \"1\"\r\n            }, {\r\n                \"Name\": \"Crying steadily, screams or sobs; frequent complaints\",\r\n                \"Value\": \"2\"\r\n            }]\r\n        });\r\n\r\n        var oFLACCConsolabilityModel = new sap.ui.model.json.JSONModel({\r\n            \"FLACCConsolabilityCollection\": [{\r\n                \"Name\": \"Content, Relaxed\",\r\n                \"Value\": \"0\"\r\n            }, {\r\n                \"Name\": \"Reassured by occasional touching, hugging, distractable\",\r\n                \"Value\": \"1\"\r\n            }, {\r\n                \"Name\": \"Difficult to consult or comfort\",\r\n                \"Value\": \"2\"\r\n            }]\r\n        });\r\n\r\n        sap.ui.getCore().byId(\"API_PAIN_SCALE_FLACC_FACE_TABLE\").setModel(oFLACCFaceModel, \"FLACCFACE\");\r\n        sap.ui.getCore().byId(\"API_PAIN_SCALE_FLACC_LEGS_TABLE\").setModel(oFLACCLegsModel, \"FLACCLEGS\");\r\n        sap.ui.getCore().byId(\"API_PAIN_SCALE_FLACC_ACTIVITY_TABLE\").setModel(oFLACCActivityModel, \"FLACCACTIVITY\");\r\n        sap.ui.getCore().byId(\"API_PAIN_SCALE_FLACC_CRY_TABLE\").setModel(oFLACCCryModel, \"FLACCCRY\");\r\n        sap.ui.getCore().byId(\"API_PAIN_SCALE_FLACC_CONSOLABILITY_TABLE\").setModel(oFLACCConsolabilityModel, \"FLACCCONSOLABILITY\");\r\n\r\n        var oFLACCScaleModel = new sap.ui.model.json.JSONModel({\r\n            \"FLACCScaleScoreModel\": [{\r\n                \"TotalScore\": \"\",\r\n                \"Face\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                },\r\n                \"Legs\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                },\r\n                \"Activity\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                },\r\n                \"Cry\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                },\r\n                \"Consolability\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                }\r\n            }]\r\n        });\r\n        sap.ui.getCore().byId(\"API_FLACC_SCALE_PANEL\").setModel(oFLACCScaleModel, \"FLACCScaleScoreModel\");\r\n        sap.ui.getCore().byId(\"API_FLACC_SCALE_PANEL\").bindElement(\"FLACCScaleScoreModel>/FLACCScaleScoreModel/0\");\r\n        sap.ui.getCore().byId(\"API_FLACC_SCALE_PANEL\").getModel(\"FLACCScaleScoreModel\").refresh(true);\r\n        sap.ui.getCore().byId(\"API_FLACC_SCALE_PANEL\").setHeaderText(\"FLACC Scale (\" + sap.ui.getCore().byId(\"API_FLACC_SCALE_PANEL\").getModel(\"FLACCScaleScoreModel\").getData().FLACCScaleScoreModel[0].TotalScore + \" \" + ZHN_API_SCORES.utils.Formatter.getFLACCInterpretation(parseInt(sap.ui.getCore().byId(\"API_FLACC_SCALE_PANEL\").getModel(\"FLACCScaleScoreModel\").getData().FLACCScaleScoreModel[0].TotalScore)) + \")\");\r\n    },\r\n\r\n    // FLACC selection change\r\n    onFLACCScaleSelectionChange: function(oEvent) {\r\n        var thatPS = this;\r\n        var object;\r\n        var path = oEvent.getSource().getSelectedContextPaths()[0].split(\"/\");\r\n        var model = path[1];\r\n        switch (model) {\r\n            case \"FLACCFaceCollection\":\r\n                object = sap.ui.getCore().byId(\"API_PAIN_SCALE_FLACC_FACE_TABLE\").getModel(\"FLACCFACE\").getData().FLACCFaceCollection[path[2]];\r\n                thatPS.modifyFlaccScaleTotalScore(\"Face\", object);\r\n                break;\r\n            case \"FLACCLegsCollection\":\r\n                object = sap.ui.getCore().byId(\"API_PAIN_SCALE_FLACC_LEGS_TABLE\").getModel(\"FLACCLEGS\").getData().FLACCLegsCollection[path[2]];\r\n                thatPS.modifyFlaccScaleTotalScore(\"Legs\", object);\r\n                break;\r\n            case \"FLACCActivityCollection\":\r\n                object = sap.ui.getCore().byId(\"API_PAIN_SCALE_FLACC_ACTIVITY_TABLE\").getModel(\"FLACCACTIVITY\").getData().FLACCActivityCollection[path[2]];\r\n                thatPS.modifyFlaccScaleTotalScore(\"Activity\", object);\r\n                break;\r\n            case \"FLACCCryCollection\":\r\n                object = sap.ui.getCore().byId(\"API_PAIN_SCALE_FLACC_CRY_TABLE\").getModel(\"FLACCCRY\").getData().FLACCCryCollection[path[2]];\r\n                thatPS.modifyFlaccScaleTotalScore(\"Cry\", object);\r\n                break;\r\n            case \"FLACCConsolabilityCollection\":\r\n                object = sap.ui.getCore().byId(\"API_PAIN_SCALE_FLACC_CONSOLABILITY_TABLE\").getModel(\"FLACCCONSOLABILITY\").getData().FLACCConsolabilityCollection[path[2]];\r\n                thatPS.modifyFlaccScaleTotalScore(\"Consolability\", object);\r\n                break;\r\n        }\r\n    },\r\n\r\n    // FLACC total score\r\n    modifyFlaccScaleTotalScore: function(path, object) {\r\n        var scoreFlaccScale = sap.ui.getCore().byId(\"API_FLACC_SCALE_PANEL\").getModel(\"FLACCScaleScoreModel\").getData().FLACCScaleScoreModel[0];\r\n        scoreFlaccScale[path].Name = object.Name;\r\n        scoreFlaccScale[path].Value = object.Value ? object.Value : \"\";\r\n\r\n        if (scoreFlaccScale.Face.Value && scoreFlaccScale.Legs.Value && scoreFlaccScale.Activity.Value && scoreFlaccScale.Cry.Value && scoreFlaccScale.Consolability.Value)\r\n            scoreFlaccScale.TotalScore = (parseInt(scoreFlaccScale.Face.Value) + parseInt(scoreFlaccScale.Legs.Value) + parseInt(scoreFlaccScale.Activity.Value) + parseInt(scoreFlaccScale.Cry.Value) + parseInt(scoreFlaccScale.Consolability.Value)).toString();\r\n        sap.ui.getCore().byId(\"API_FLACC_SCALE_PANEL\").getModel(\"FLACCScaleScoreModel\").refresh(true);\r\n        sap.ui.getCore().byId(\"API_FLACC_SCALE_PANEL\").setHeaderText(\"FLACC Scale (\" + scoreFlaccScale.TotalScore + \" \" + ZHN_API_SCORES.utils.Formatter.getFLACCInterpretation(parseInt(scoreFlaccScale.TotalScore)) + \")\");\r\n    },\r\n\r\n    //NIP scale score values\r\n    initNipScaleTotalScore: function() {\r\n        var oNIPFacialexpressionModel = new sap.ui.model.json.JSONModel({\r\n            \"NIPFacialexpressionCollection\": [{\r\n                \"Name\": \"Relaxed muscles\",\r\n                \"Value\": \"0\"\r\n            }, {\r\n                \"Name\": \"Grimace\",\r\n                \"Value\": \"1\"\r\n            }]\r\n        });\r\n\r\n        var oNIPBreathingPatternModel = new sap.ui.model.json.JSONModel({\r\n            \"NIPBreathingPatternCollection\": [{\r\n                \"Name\": \"Relaxed\",\r\n                \"Value\": \"0\"\r\n            }, {\r\n                \"Name\": \"Change in breathing\",\r\n                \"Value\": \"1\"\r\n            }]\r\n        });\r\n\r\n        var oNIPArmsModel = new sap.ui.model.json.JSONModel({\r\n            \"NIPArmsCollection\": [{\r\n                \"Name\": \"Relaxed\",\r\n                \"Value\": \"0\"\r\n            }, {\r\n                \"Name\": \"Flexed/extended\",\r\n                \"Value\": \"1\"\r\n            }]\r\n        });\r\n\r\n        var oNIPLegsModel = new sap.ui.model.json.JSONModel({\r\n            \"NIPLegsCollection\": [{\r\n                \"Name\": \"Relaxed\",\r\n                \"Value\": \"0\"\r\n            }, {\r\n                \"Name\": \"Flexed/extended\",\r\n                \"Value\": \"1\"\r\n            }]\r\n        });\r\n\r\n        var oNIPStateofArousalModel = new sap.ui.model.json.JSONModel({\r\n            \"NIPStateofArousalCollection\": [{\r\n                \"Name\": \"Sleeping/Awake\",\r\n                \"Value\": \"0\"\r\n            }, {\r\n                \"Name\": \"Fussy\",\r\n                \"Value\": \"1\"\r\n            }]\r\n        });\r\n\r\n        var oNIPCryModel = new sap.ui.model.json.JSONModel({\r\n            \"NIPCryCollection\": [{\r\n                \"Name\": \"No cry\",\r\n                \"Value\": \"0\"\r\n            }, {\r\n                \"Name\": \"Whimper\",\r\n                \"Value\": \"1\"\r\n            }, {\r\n                \"Name\": \"Vigorous cry\",\r\n                \"Value\": \"2\"\r\n            }]\r\n        });\r\n\r\n        sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_FACIAL_EXPRESSION_TABLE\").setModel(oNIPFacialexpressionModel, \"NIPFACIALEXPRS\");\r\n        sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_BREATHING_PATTERN_TABLE\").setModel(oNIPBreathingPatternModel, \"NIPBRTHNGPATRN\");\r\n        sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_ARMS_TABLE\").setModel(oNIPArmsModel, \"NIPARMS\");\r\n        sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_LEGS_TABLE\").setModel(oNIPLegsModel, \"NIPLEGS\");\r\n        sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_STATE_OF_AROUSAL_TABLE\").setModel(oNIPStateofArousalModel, \"NIPSATEOFARSL\");\r\n        sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_CRY_TABLE\").setModel(oNIPCryModel, \"NIPCRY\");\r\n\r\n        var oNipScaleModel = new sap.ui.model.json.JSONModel({\r\n            \"NIPScaleScoreModel\": [{\r\n                \"TotalScore\": \"\",\r\n                \"FacialExpression\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                },\r\n                \"BreathingPattern\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                },\r\n                \"Arms\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                },\r\n                \"Legs\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                },\r\n                \"StateofArousal\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                },\r\n                \"Cry\": {\r\n                    \"Name\": \"\",\r\n                    \"Value\": \"\"\r\n                }\r\n            }]\r\n        });\r\n        sap.ui.getCore().byId(\"API_NIP_SCALE_PANEL\").setModel(oNipScaleModel, \"NIPScaleScoreModel\");\r\n        sap.ui.getCore().byId(\"API_NIP_SCALE_PANEL\").bindElement(\"NIPScaleScoreModel>/NIPScaleScoreModel/0\");\r\n        sap.ui.getCore().byId(\"API_NIP_SCALE_PANEL\").getModel(\"NIPScaleScoreModel\").refresh(true);\r\n        sap.ui.getCore().byId(\"API_NIP_SCALE_PANEL\").setHeaderText(\"Neonatal infant pain scale (\" + sap.ui.getCore().byId(\"API_NIP_SCALE_PANEL\").getModel(\"NIPScaleScoreModel\").getData().NIPScaleScoreModel[0].TotalScore + \" \" + ZHN_API_SCORES.utils.Formatter.getNIPInterpretation(parseInt(sap.ui.getCore().byId(\"API_NIP_SCALE_PANEL\").getModel(\"NIPScaleScoreModel\").getData().NIPScaleScoreModel[0].TotalScore)) + \")\");\r\n    },\r\n\r\n    //NIP scale selection change\r\n    onNIPScaleSelectionChange: function(oEvent) {\r\n        var thatPS = this;\r\n        var object;\r\n        var path = oEvent.getSource().getSelectedContextPaths()[0].split(\"/\");\r\n        var model = path[1];\r\n        switch (model) {\r\n            case \"NIPFacialexpressionCollection\":\r\n                object = sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_FACIAL_EXPRESSION_TABLE\").getModel(\"NIPFACIALEXPRS\").getData().NIPFacialexpressionCollection[path[2]];\r\n                thatPS.modifyNIPScaleTotalScore(\"FacialExpression\", object);\r\n                break;\r\n            case \"NIPBreathingPatternCollection\":\r\n                object = sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_BREATHING_PATTERN_TABLE\").getModel(\"NIPBRTHNGPATRN\").getData().NIPBreathingPatternCollection[path[2]];\r\n                thatPS.modifyNIPScaleTotalScore(\"BreathingPattern\", object);\r\n                break;\r\n            case \"NIPArmsCollection\":\r\n                object = sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_ARMS_TABLE\").getModel(\"NIPARMS\").getData().NIPArmsCollection[path[2]];\r\n                thatPS.modifyNIPScaleTotalScore(\"Arms\", object);\r\n                break;\r\n            case \"NIPLegsCollection\":\r\n                object = sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_LEGS_TABLE\").getModel(\"NIPLEGS\").getData().NIPLegsCollection[path[2]];\r\n                thatPS.modifyNIPScaleTotalScore(\"Legs\", object);\r\n                break;\r\n            case \"NIPStateofArousalCollection\":\r\n                object = sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_STATE_OF_AROUSAL_TABLE\").getModel(\"NIPSATEOFARSL\").getData().NIPStateofArousalCollection[path[2]];\r\n                thatPS.modifyNIPScaleTotalScore(\"StateofArousal\", object);\r\n                break;\r\n            case \"NIPCryCollection\":\r\n                object = sap.ui.getCore().byId(\"API_PAIN_SCALE_NIP_CRY_TABLE\").getModel(\"NIPCRY\").getData().NIPCryCollection[path[2]];\r\n                thatPS.modifyNIPScaleTotalScore(\"Cry\", object);\r\n                break;\r\n        }\r\n    },\r\n\r\n    // NIP total score\r\n    modifyNIPScaleTotalScore: function(path, object) {\r\n        var scoreNIPScale = sap.ui.getCore().byId(\"API_NIP_SCALE_PANEL\").getModel(\"NIPScaleScoreModel\").getData().NIPScaleScoreModel[0];\r\n        scoreNIPScale[path].Name = object.Name;\r\n        scoreNIPScale[path].Value = object.Value ? object.Value : \"\";\r\n        if (scoreNIPScale.FacialExpression.Value && scoreNIPScale.BreathingPattern.Value && scoreNIPScale.Arms.Value && scoreNIPScale.Legs.Value && scoreNIPScale.StateofArousal.Value && scoreNIPScale.Cry.Value)\r\n            scoreNIPScale.TotalScore = (parseInt(scoreNIPScale.FacialExpression.Value) + parseInt(scoreNIPScale.BreathingPattern.Value) + parseInt(scoreNIPScale.Arms.Value) + parseInt(scoreNIPScale.Legs.Value) + parseInt(scoreNIPScale.StateofArousal.Value) + parseInt(scoreNIPScale.Cry.Value)).toString();\r\n        sap.ui.getCore().byId(\"API_NIP_SCALE_PANEL\").getModel(\"NIPScaleScoreModel\").refresh(true);\r\n        sap.ui.getCore().byId(\"API_NIP_SCALE_PANEL\").setHeaderText(\"Neonatal infant pain scale (\" + scoreNIPScale.TotalScore + \" \" + ZHN_API_SCORES.utils.Formatter.getNIPInterpretation(parseInt(scoreNIPScale.TotalScore)) + \")\");\r\n    },\r\n\r\n    // on save pressed\r\n    _handleAPIPainScaleSavePressed: function() {\r\n        var thatPS = this;\r\n        var faceScaleScoreModel = sap.ui.getCore().byId(\"API_FACE_SCALE_PANEL\").getModel(\"FaceScaleModel\").getData().FaceScaleScore[0];\r\n        var bpsScaleScoreModel = sap.ui.getCore().byId(\"API_BPS_PANEL\").getModel(\"ScoreModelBPS\").getData().ScoreModelBPS[0];\r\n        var flaccScaleScoreModel = sap.ui.getCore().byId(\"API_FLACC_SCALE_PANEL\").getModel(\"FLACCScaleScoreModel\").getData().FLACCScaleScoreModel[0];\r\n        var nipScaleScoreModel = sap.ui.getCore().byId(\"API_NIP_SCALE_PANEL\").getModel(\"NIPScaleScoreModel\").getData().NIPScaleScoreModel[0];\r\n        if (faceScaleScoreModel.Value || bpsScaleScoreModel.TotalScore || flaccScaleScoreModel.TotalScore || nipScaleScoreModel.TotalScore) {\r\n\r\n            var data = null;\r\n            var bpsInterpretation = \"\";\r\n            if (bpsScaleScoreModel.TotalScore <= 3) {\r\n                bpsInterpretation = \"No pain\";\r\n            } else if (bpsScaleScoreModel.TotalScore >= 4 && bpsScaleScoreModel.TotalScore <= 6) {\r\n                bpsInterpretation = \"Mid pain\";\r\n            } else if (bpsScaleScoreModel.TotalScore >= 7 && bpsScaleScoreModel.TotalScore <= 9) {\r\n                bpsInterpretation = \"Moderate pain\";\r\n            } else if (bpsScaleScoreModel.TotalScore >= 9) {\r\n                bpsInterpretation = \"Sever pain\";\r\n            }\r\n\r\n            var flaccInterpretation = \"\";\r\n            if (flaccScaleScoreModel.TotalScore == 0) {\r\n                flaccInterpretation = \"Relaxed and comfortable\";\r\n            } else if (flaccScaleScoreModel.TotalScore >= 1 && flaccScaleScoreModel.TotalScore <= 3) {\r\n                flaccInterpretation = \"Mild Discomfort\";\r\n            } else if (flaccScaleScoreModel.TotalScore >= 4 && flaccScaleScoreModel.TotalScore <= 6) {\r\n                flaccInterpretation = \"Moderate Pain\";\r\n            } else if (flaccScaleScoreModel.TotalScore >= 7) {\r\n                flaccInterpretation = \"Sever Discomfort Pain\";\r\n            }\r\n\r\n            var nipInterpretation = \"\";\r\n            if (nipScaleScoreModel.TotalScore == 0) {\r\n                nipInterpretation = \"No pain\";\r\n            } else if (nipScaleScoreModel.TotalScore >= 1 && nipScaleScoreModel.TotalScore <= 2) {\r\n                nipInterpretation = \"Mild Discomfort\";\r\n            } else if (nipScaleScoreModel.TotalScore >= 3 && nipScaleScoreModel.TotalScore <= 4) {\r\n                nipInterpretation = \"Mild to moderate pain\";\r\n            } else if (nipScaleScoreModel.TotalScore >= 5) {\r\n                nipInterpretation = \"Moderate to sever pain\";\r\n            }\r\n\r\n            var scaleUsed = sap.ui.getCore().byId(\"API_SCALE_TYPE_COMBO\").getValue();\r\n            var scaleType = sap.ui.getCore().byId(\"API_SCALE_TYPE_COMBO\").getSelectedKey();\r\n            if (scaleType == \"1\") {\r\n                data = {\r\n\r\n                    DocumentType: _patient.DocumentType,\r\n                    DocumentNumber: _patient.DocumentNo,\r\n                    DocumentVersion: _patient.DocumentVersion,\r\n                    DocumentPart: _patient.DocumantPart,\r\n                    PatientName: _patient.PatientName,\r\n                    PatientMrn: _patient.PatientId,\r\n                    PatientSex: _patient.Sex,\r\n                    PatientDob: _patient.Birthdate,\r\n                    PatientDoctor: _patient.PatientDoctor,\r\n                    PatientAge: _patient.Age,\r\n                    PatientCasetype: _patient.CaseType,\r\n                    PatientCaseno: _patient.CaseNo,\r\n                    SclType: \"1\",\r\n                    SclImage: \"\",\r\n                    FaceScale: faceScaleScoreModel.Value,\r\n                    FaceTotalScore: faceScaleScoreModel.Value,\r\n                    FaceInterpretion: faceScaleScoreModel.Name,\r\n                    Institution: \"RFH1\",\r\n                    DepartmentOu: _patient.DeptOu,\r\n                    EmployeeResp: \"\",\r\n                    Mode: \"\",\r\n                    SCPAINDETAILHDRTOITEM: []\r\n                };\r\n            } else if (scaleType == \"2\") {\r\n                data = {\r\n                    DocumentType: _patient.DocumentType,\r\n                    DocumentNumber: _patient.DocumentNo,\r\n                    DocumentVersion: _patient.DocumentVersion,\r\n                    DocumentPart: _patient.DocumantPart,\r\n                    PatientName: _patient.PatientName,\r\n                    PatientMrn: _patient.PatientId,\r\n                    PatientSex: _patient.Sex,\r\n                    PatientDob: _patient.Birthdate,\r\n                    PatientDoctor: _patient.PatientDoctor,\r\n                    PatientAge: _patient.Age,\r\n                    PatientCasetype: _patient.CaseType,\r\n                    PatientCaseno: _patient.CaseNo,\r\n                    SclType: \"2\",\r\n                    SclImage: \"\",\r\n                    FaceExpresion: bpsScaleScoreModel.BestMotorResponse.Value,\r\n                    BpainUpperLimb: bpsScaleScoreModel.BestVerbalResponse.Value,\r\n                    BpainMechVenti: \"\",\r\n                    BpainTotalScore: bpsScaleScoreModel.TotalScore,\r\n                    BpainfaceExpre: \"\",\r\n                    BpainUpLiMov: bpsScaleScoreModel.BestVerbalResponse.Value,\r\n                    BpainInterpretion: bpsInterpretation,\r\n                    BpainCompl: bpsScaleScoreModel.EyeOpening.Value,\r\n                    Institution: \"RFH1\",\r\n                    DepartmentOu: _patient.DeptOu,\r\n                    EmployeeResp: \"\",\r\n                    Mode: \"\",\r\n                    SCPAINDETAILHDRTOITEM: []\r\n                };\r\n\r\n            } else if (scaleType == \"3\") {\r\n                data = {\r\n                    DocumentType: _patient.DocumentType,\r\n                    DocumentNumber: _patient.DocumentNo,\r\n                    DocumentVersion: _patient.DocumentVersion,\r\n                    DocumentPart: _patient.DocumantPart,\r\n                    PatientName: _patient.PatientName,\r\n                    PatientMrn: _patient.PatientId,\r\n                    PatientSex: _patient.Sex,\r\n                    PatientDob: _patient.Birthdate,\r\n                    PatientDoctor: _patient.PatientDoctor,\r\n                    PatientAge: _patient.Age,\r\n                    PatientCasetype: _patient.CaseType,\r\n                    PatientCaseno: _patient.CaseNo,\r\n                    SclType: \"3\",\r\n                    SclImage: \"\",\r\n                    PainRadioFace: \"\",\r\n                    PainRLeg: \"\",\r\n                    PainRActivity: \"\",\r\n                    PainRCry: \"\",\r\n                    PainRConsol: \"\",\r\n                    PainTotalScore: flaccScaleScoreModel.TotalScore,\r\n                    PainInterpretion: flaccInterpretation,\r\n                    Face: flaccScaleScoreModel.Face.Value,\r\n                    Legs: flaccScaleScoreModel.Legs.Value,\r\n                    Activity: flaccScaleScoreModel.Activity.Value,\r\n                    Cry: flaccScaleScoreModel.Cry.Value,\r\n                    Consolability: flaccScaleScoreModel.Consolability.Value,\r\n                    Institution: \"RFH1\",\r\n                    DepartmentOu: _patient.DeptOu,\r\n                    EmployeeResp: \"\",\r\n                    Mode: \"\",\r\n                    SCPAINDETAILHDRTOITEM: []\r\n                };\r\n\r\n            } else if (scaleType == \"4\") {\r\n                data = {\r\n                    DocumentType: _patient.DocumentType,\r\n                    DocumentNumber: _patient.DocumentNo,\r\n                    DocumentVersion: _patient.DocumentVersion,\r\n                    DocumentPart: _patient.DocumantPart,\r\n                    PatientName: _patient.PatientName,\r\n                    PatientMrn: _patient.PatientId,\r\n                    PatientSex: _patient.Sex,\r\n                    PatientDob: _patient.Birthdate,\r\n                    PatientDoctor: _patient.PatientDoctor,\r\n                    PatientAge: _patient.Age,\r\n                    PatientCasetype: _patient.CaseType,\r\n                    PatientCaseno: _patient.CaseNo,\r\n                    SclType: \"4\",\r\n                    SclImage: \"\",\r\n                    NeoFacial: nipScaleScoreModel.FacialExpression.Value,\r\n                    NeoCry: nipScaleScoreModel.Cry.Value,\r\n                    NeoBreath: nipScaleScoreModel.BreathingPattern.Value,\r\n                    NeoArms: nipScaleScoreModel.Arms.Value,\r\n                    NeoLegs: nipScaleScoreModel.Legs.Value,\r\n                    NeoState: nipScaleScoreModel.StateofArousal.Value,\r\n                    NeoRFacl: \"\",\r\n                    NeoRCry: \"\",\r\n                    NeoRBret: \"\",\r\n                    NeoRArms: \"\",\r\n                    NeoRLegs: \"\",\r\n                    NeoRStat: \"\",\r\n                    NeoTotalScore: nipScaleScoreModel.TotalScore,\r\n                    NeoInterpretion: nipInterpretation,\r\n                    Institution: \"RFH1\",\r\n                    DepartmentOu: _patient.DeptOu,\r\n                    EmployeeResp: \"\",\r\n                    Mode: \"\",\r\n                    SCPAINDETAILHDRTOITEM: []\r\n                };\r\n            }\r\n            if (_patient.DocumentNo && _patient.Mode == \"E\") {\r\n                data.Mode = \"U\";\r\n            } else {\r\n                data.Mode = \"C\";\r\n            }\r\n            thatPS.oModel.create(\"/ScPainDetailHdrSet\", data, null, function(oData, oResponse) {\r\n                thatPS[\"PainScaleCreate\"].destroy();\r\n\r\n                sap.m.MessageToast.show(oResponse.headers[\"sap-message\"]);\r\n                if (thatPS.painScaleDirectRelease) {\r\n                    var docNumber = oResponse.headers[\"sap-message\"].split(\" \")[2];\r\n                    var data = {\r\n                    \t\t \"DocumentNumber\": docNumber,\r\n                             \"DocumentType\": _patient.DocumentType ? _patient.DocumentType : \"MED\",\r\n                             \"DocumentVersion\": _patient.DocumentVersion ? _patient.DocumentVersion : \"00\",\r\n                             \"DocumentPart\": _patient.DocumantPart ? _patient.DocumantPart : \"000\"\r\n                    };\r\n                    thatPS.oModel.update(\"PmdReleaseSet('\" + docNumber + \"')\", data, null, function(oData, oResponse) {\r\n\r\n                            thatPS.painScaleDirectRelease = false;\r\n                            sap.m.MessageToast.show(oResponse.headers[\"sap-message\"]);\r\n                            var totalScoreValue=\"\";\r\n                            var totalScoreAbrValue=\"\";\r\n                            if(scaleType == \"1\"){\r\n                            \ttotalScoreValue = faceScaleScoreModel.Value;\r\n                            \ttotalScoreAbrValue: faceScaleScoreModel.Name;\r\n                            \t\r\n                            }else if (scaleType == \"2\") {\r\n                            \ttotalScoreValue =  bpsScaleScoreModel.TotalScore;\r\n                            \ttotalScoreAbrValue: bpsInterpretation;\r\n                            }else if (scaleType == \"3\") {\r\n                            \ttotalScoreValue = flaccScaleScoreModel.TotalScore;\r\n                            \ttotalScoreAbrValue: flaccInterpretation;\r\n                            }else if (scaleType == \"4\") {\r\n                            \ttotalScoreValue = nipScaleScoreModel.TotalScore;\r\n                            \ttotalScoreAbrValue: nipInterpretation;\r\n                            }\r\n                            \r\n                            var eb = sap.ui.getCore().getEventBus();\r\n                            var returnData = {\r\n                                    \"DocumentNumber\": docNumber,\r\n                                    \"DocumentType\": _patient.DocumentType,\r\n                                    \"DocumentVersion\": _patient.DocumentVersion,\r\n                                    \"DocumentPart\": _patient.DocumantPart,\r\n                                    \"TotalScore\": totalScoreValue,\r\n                                    \"Interpretation\": totalScoreAbrValue,\r\n                                    \"ScaleUsed\" : scaleUsed\r\n                                };\r\n                            \r\n                            eb.publish(\"ZHN_API_SCORES\", \"PainScaleRelease\", returnData);\r\n                        },\r\n                        function(oData, oResponse) {\r\n                            var msg = oData.response.body;\r\n                            msg = JSON.parse(msg);\r\n                            msg = msg.error.message.value;\r\n                            sap.m.MessageBox.show(msg, {\r\n                                title: \"Alert\",\r\n                                icon: sap.m.MessageBox.Icon.ERROR,\r\n                                actions: [sap.m.MessageBox.Action.OK],\r\n                            });\r\n                        });\r\n                }else{\r\n                \tvar eb = sap.ui.getCore().getEventBus();\r\n                \teb.publish(\"ZHN_API_SCORES\", \"ScoresSaveClose\", {});\r\n                }\r\n\r\n            }, function(oData, response) {\r\n                /* failed */\r\n                var msg = oData.response.body;\r\n                msg = JSON.parse(msg);\r\n                msg = msg.error.message.value;\r\n                sap.m.MessageBox.show(msg, {\r\n                    title: \"Alert\",\r\n                    icon: sap.m.MessageBox.Icon.ERROR,\r\n                    actions: [sap.m.MessageBox.Action.OK],\r\n                });\r\n            });\r\n\r\n\r\n        } else {\r\n            sap.m.MessageToast.show(\"Please enter scores before saving.\");\r\n        }\r\n    },\r\n\r\n    // on release pressed\r\n    _handleAPIPainScaleReleasePressed: function() {\r\n        var thatPS = this;\r\n        thatPS.painScaleDirectRelease = true;\r\n        thatPS._handleAPIPainScaleSavePressed();\r\n        thatPS.painScaleDirectRelease = false;\r\n    }\r\n});"
	}
});